import{a as I,b as J,_ as w,u as re,c as de,l as ee,d as q,D as _e,R as pe,r as fe}from"./index.73d36502.js";/* empty css              */import{d as A,aZ as he,a_ as be,z as b,aC as F,A as L,D as v,aR as K,a$ as te,b0 as ne,aE as e,a as M,c as g,b1 as ve,b2 as ae,aD as c,u as f,aS as U,aI as ge,aP as me,b3 as ye,b4 as Fe,b5 as se,C as O,b6 as j,b7 as xe,aF as $,aV as ke,b8 as oe,aK as G,aL as Z,i as Ce,b9 as Se,ba as Ee,h as $e,bb as De,bc as Te,bd as we,be as Ae,B as Be,o as Me,bf as Le,bg as Ie,q as Re,bh as Ve,bi as Pe,bj as ze,bk as Ne,bl as Oe,bm as Q,bn as je,bo as Ue,bp as We,p as He}from"./arco.eb664111.js";import{g as Ke,h as Je,i as qe,j as Ge,e as ue,f as ce,k as Ze,l as Qe}from"./vue.b49bf95e.js";/* empty css              */function Xe(){return document.body.getBoundingClientRect().width-1<992}const Ye="/venable-admin/assets/logo.e70dcf41.png";const et=A({__name:"form-wrapper",props:{type:{type:String,default:""},name:{type:String,default:""},defaultValue:{type:[String,Boolean,Number],default:""}},emits:["inputChange"],setup(n,{emit:a}){const d=n,i=l=>{a("inputChange",{value:l,key:d.name})};return(l,p)=>{const o=he,m=be;return n.type==="number"?(b(),F(o,{key:0,style:{width:"80px"},size:"small","default-value":n.defaultValue,onChange:i},null,8,["default-value"])):(b(),F(m,{key:1,"default-checked":n.defaultValue,size:"small",onChange:i},null,8,["default-checked"]))}}}),tt={class:"block"},nt={class:"title"},at=A({__name:"block",props:{title:{type:String,default:""},options:{type:Array,default(){return[]}}},setup(n){const a=I(),d=J(),i=async({key:l,value:p})=>{l==="colorWeakness"&&(document.body.style.filter=p?"invert(80%)":"none"),l==="serverMenu"&&p&&await d.buildRoutes(),a.updateSettings({[l]:p})};return(l,p)=>(b(),L("div",tt,[v("h5",nt,K(n.title),1),(b(!0),L(te,null,ne(n.options,o=>(b(),L("div",{key:o.name,class:"switch-wrapper"},[v("span",null,K(o.name),1),e(et,{type:o.type||"switch",name:o.key,"default-value":o.defaultVal,onInputChange:i},null,8,["type","name","default-value"])]))),128))]))}});const X=w(at,[["__scopeId","data-v-adb09ea2"]]),st=U(" \u9875\u9762\u914D\u7F6E "),ot=U(' \u914D\u7F6E\u4E4B\u540E\u4EC5\u662F\u4E34\u65F6\u751F\u6548\uFF0C\u8981\u60F3\u771F\u6B63\u4F5C\u7528\u4E8E\u9879\u76EE\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684 "\u590D\u5236\u914D\u7F6E" \u6309\u94AE\uFF0C\u5C06\u914D\u7F6E\u66FF\u6362\u5230 settings.json \u4E2D\u5373\u53EF\u3002 '),ut=A({__name:"index",setup(n,{expose:a}){const d=M(!1),i=I(),{copy:l}=Ke(),p=g(()=>[{name:"\u4F7F\u7528\u670D\u52A1\u7AEF\u83DC\u5355",key:"serverMenu",defaultVal:i.serverMenu},{name:"\u9876\u680F\u9AD8\u5EA6",key:"navbarheight",defaultVal:i.navbarHeight,type:"number"},{name:"\u4FA7\u8FB9\u680F\u5BBD\u5EA6",key:"sidebarWidth",defaultVal:i.sidebarWidth,type:"number"},{name:"\u591A\u9875\u7B7E",key:"multiTabs",defaultVal:i.multiTabs}]),o=g(()=>[{name:"\u8272\u5F31\u6A21\u5F0F",key:"colorWeakness",defaultVal:i.colorWeakness}]),m=async()=>{const r=JSON.stringify(i.$state,null,2);await l(r),ge.success("\u590D\u5236\u6210\u529F")},x=()=>{d.value=!1};return a({visible:d}),(r,C)=>{const E=ve,D=ae;return b(),F(D,{width:350,"unmount-on-close":"",visible:d.value,"cancel-text":"\u5173\u95ED","ok-text":"\u590D\u5236\u914D\u7F6E",onCancel:x,onOk:m},{title:c(()=>[st]),default:c(()=>[e(X,{options:f(p),title:"\u5185\u5BB9\u533A\u57DF"},null,8,["options"]),e(X,{options:f(o),title:"\u5176\u4ED6\u8BBE\u7F6E"},null,8,["options"]),e(E,null,{default:c(()=>[ot]),_:1})]),_:1},8,["visible"])}}});const ct=w(ut,[["__scopeId","data-v-2c1cb585"]]),le=n=>(G("data-v-ffdecdf0"),n=n(),Z(),n),lt={class:"navbar"},it={class:"navbar-left"},rt=le(()=>v("img",{alt:"logo",src:Ye},null,-1)),dt=U(" VEnable "),_t={class:"navbar-right"},pt=["src"],ft=le(()=>v("span",null," \u9000\u51FA\u767B\u5F55 ",-1)),ht=A({__name:"index",setup(n){const a=I(),d=re(),i=Ce("toggleDrawerMenu"),l=g(()=>a.theme),p=Je({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(u){a.toggleTheme(u)}}),o=qe(p),m=()=>{o()},{isFullscreen:x,toggle:r}=Ge(),C=M(),E=()=>{C.value.visible=!0},D=g(()=>d.avatar),s=()=>{d.logout()};return(u,h)=>{const t=xe,_=$("icon-menu-fold"),k=me,S=$("icon-moon-fill"),y=$("icon-sun-fill"),T=ke,B=ye,V=$("icon-fullscreen-exit"),W=$("icon-fullscreen"),H=$("icon-settings"),P=Fe,N=$("icon-export"),z=oe,ie=se;return b(),L("div",lt,[v("div",it,[e(k,null,{default:c(()=>[rt,e(t,{style:O({marginTop:"0.8rem",fontSize:"18px"}),heading:5},{default:c(()=>[dt]),_:1},8,["style"]),f(a).isMobile?(b(),F(_,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:f(i)},null,8,["onClick"])):j("",!0)]),_:1})]),v("ul",_t,[v("li",null,[e(B,{content:f(l)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u660E\u4EAE\u6A21\u5F0F"},{default:c(()=>[e(T,{class:"nav-btn",type:"outline",shape:"circle",onClick:m},{icon:c(()=>[f(l)==="dark"?(b(),F(S,{key:0})):(b(),F(y,{key:1}))]),_:1})]),_:1},8,["content"])]),v("li",null,[e(B,{content:f(x)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:c(()=>[e(T,{class:"nav-btn",type:"outline",shape:"circle",onClick:f(r)},{icon:c(()=>[f(x)?(b(),F(V,{key:0})):(b(),F(W,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),v("li",null,[e(B,{content:"\u9875\u9762\u914D\u7F6E"},{default:c(()=>[e(T,{class:"nav-btn",type:"outline",shape:"circle",onClick:E},{icon:c(()=>[e(H)]),_:1})]),_:1})]),v("li",null,[e(ie,{trigger:"click"},{content:c(()=>[e(z,null,{default:c(()=>[e(k,{onClick:s},{default:c(()=>[e(N),ft]),_:1})]),_:1})]),default:c(()=>[e(P,{size:28,style:{cursor:"pointer"}},{default:c(()=>[v("img",{alt:"avatar",src:f(D)},null,8,pt)]),_:1})]),_:1})])]),e(ct,{ref_key:"settingsRef",ref:C},null,512)])}}});const bt=w(ht,[["__scopeId","data-v-ffdecdf0"]]);const vt=(n,a)=>{const{target:d="_blank",...i}=a||{};window.open(n,d,Object.entries(i).reduce((l,p)=>{const[o,m]=p;return[...l,`${o}=${m}`]},[]).join(","))},gt=/^(?!mailto:)(?:http|https|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}\.(?:\d\d?|1\d\d|2[0-4]\d|25[0-4])|(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+(?:\.(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+)*\.[a-z\u00A1-\uFFFF]{2,})|localhost)(?::\d{2,5})?(?:([#/?])\S*)?$/i;function mt(){const n=J(),a=de(),d=g(()=>n.getMenuList);return{menuTree:g(()=>{const l=JSON.parse(JSON.stringify(d.value));l.sort((o,m)=>{var x,r;return(Number((x=o.meta)==null?void 0:x.order)||0)-(Number((r=m.meta)==null?void 0:r.order)||0)});function p(o,m){return o?o.map(r=>{var E,D;if(!a.accessRouter(r))return null;if(((E=r.meta)==null?void 0:E.hideChildrenInMenu)||!r.children)return r.children=[],r;r.children=r.children.filter(s=>{var u;return((u=s.meta)==null?void 0:u.hideInMenu)!==!0});const C=p(r.children,m+1);return C.length>0||m>1?(r.children=C,r):((D=r.meta)==null?void 0:D.hideInMenu)===!1?r:null}).filter(Boolean):null}return p(l,0)})}}function yt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Ee(n)}const Ft=A({__name:"index",setup(n){const a=ue(),d=ce(),i=I(),{menuTree:l}=mt(),p=M([]),o=M([]),m=g({get(){return i.isMobile?!1:i.sidebarCollapsed},set(s){i.updateSettings({sidebarCollapsed:s})}}),x=s=>{i.isMobile||i.updateSettings({sidebarCollapsed:s})},r=s=>{if(gt.test(s.path)){vt(s.path),o.value=[s.name];return}const{hideInMenu:u,activeMenu:h}=s.meta;if(d.name===s.name&&!u&&!h){o.value=[s.name];return}a.push({name:s.name})},C=s=>{const u=[];let h=!1;const t=(_,k,S)=>{var y;if(_.name===S){h=!0,u.push(...k,_.name);return}(y=_.children)!=null&&y.length&&_.children.forEach(T=>{t(T,[...k],S)})};return l.value.forEach(_=>{h||t(_,[_.name],s)}),u};ee(s=>{const{ignoreAuth:u,activeMenu:h,hideInMenu:t}=s.meta;if(!u&&(!t||h)){const _=C(h||s.name),k=new Set([..._,...p.value]);p.value=[...k],o.value=[h||_[_.length-1]]}},!0);const E=()=>{function s(u,h=[]){return u&&u.forEach(t=>{var S;const _=(S=t==null?void 0:t.meta)!=null&&S.icon?()=>{var y;return $e(De(`<${(y=t==null?void 0:t.meta)==null?void 0:y.icon}/>`))}:null,k=(t==null?void 0:t.children)&&(t==null?void 0:t.children.length)!==0?e(Te,{key:t==null?void 0:t.name},{default:()=>[s(t==null?void 0:t.children)],icon:_,title:()=>{var y;return(y=t==null?void 0:t.meta)==null?void 0:y.title}}):e(we,{key:t==null?void 0:t.name,onClick:()=>r(t)},{default:()=>{var y;return[((y=t==null?void 0:t.meta)==null?void 0:y.title)||""]},icon:_});h.push(k)}),h}return s(l.value)},D=()=>{let s;return e(Se,{collapsed:m.value,"onUpdate:collapsed":u=>m.value=u,"open-keys":p.value,"onUpdate:open-keys":u=>p.value=u,"show-collapse-button":!i.isMobile,"auto-open":!1,"selected-keys":o.value,"auto-open-selected":!0,"level-indent":34,onCollapse:x,style:"height: 100%"},yt(s=E())?s:{default:()=>[s]})};return(s,u)=>(b(),F(D))}});const Y=w(Ft,[["__scopeId","data-v-fca24531"]]);const R=n=>(G("data-v-8897531e"),n=n(),Z(),n),xt={class:"tag-link"},kt=R(()=>v("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),Ct=R(()=>v("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),St=R(()=>v("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),Et=R(()=>v("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),$t=R(()=>v("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),Dt=R(()=>v("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),Tt=A({__name:"tab-item",props:{tabData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(n){const a=n,d=ue(),i=ce(),l=q(),p=s=>{d.push({...s})},o=g(()=>l.getTabList),m=g(()=>a.tabData.fullPath!==i.fullPath),x=g(()=>a.index===0),r=g(()=>[0,1].includes(a.index)),C=g(()=>a.index===o.value.length-1),E=(s,u)=>{if(l.deleteTab(s,u),a.tabData.fullPath===i.fullPath){const h=o.value[s-1];d.push({name:h.name})}},D=async s=>{const{tabData:u,index:h}=a,t=[...o.value],_=o.value.findIndex(k=>k.fullPath===i.fullPath);switch(s){case"current":E(h,u);break;case"left":t.splice(1,a.index-1),l.refreshTabList(t),_<h&&d.push({name:u.name});break;case"right":t.splice(a.index+1),l.refreshTabList(t),_>h&&d.push({name:u.name});break;case"others":const k=o.value.filter((S,y)=>y===0||y===a.index);l.refreshTabList(k),d.push({name:u.name});break;case"reload":l.deleteTabCache(u),await d.push({name:pe,params:{path:i.fullPath}}),l.addTabCache(u.name);break;default:l.resetTabList(),d.push({name:_e})}};return(s,u)=>{const h=$("icon-close"),t=$("icon-refresh"),_=oe,k=$("icon-to-left"),S=$("icon-to-right"),y=$("icon-swap"),T=$("icon-folder-delete"),B=se;return b(),F(B,{trigger:"contextMenu","popup-max-height":!1,onSelect:D},{content:c(()=>[e(_,{disabled:f(m),value:"reload"},{default:c(()=>[e(t),kt]),_:1},8,["disabled","value"]),e(_,{class:"sperate-line",disabled:f(x),value:"current"},{default:c(()=>[e(h),Ct]),_:1},8,["disabled","value"]),e(_,{disabled:f(r),value:"left"},{default:c(()=>[e(k),St]),_:1},8,["disabled","value"]),e(_,{class:"sperate-line",disabled:f(C),value:"right"},{default:c(()=>[e(S),Et]),_:1},8,["disabled","value"]),e(_,{value:"others"},{default:c(()=>[e(y),$t]),_:1},8,["value"]),e(_,{value:"all"},{default:c(()=>[e(T),Dt]),_:1},8,["value"])]),default:c(()=>[v("span",{class:Be(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":n.tabData.fullPath===s.$route.fullPath}]),onClick:u[1]||(u[1]=V=>p(n.tabData))},[v("span",xt,K(n.tabData.title),1),v("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:u[0]||(u[0]=Ae(V=>E(n.index,n.tabData),["stop"]))},[e(h)])],2)]),_:1})}}});const wt=w(Tt,[["__scopeId","data-v-8897531e"]]),At=n=>(G("data-v-eb3bce71"),n=n(),Z(),n),Bt={class:"tab-bar-container"},Mt={class:"tab-bar-box"},Lt={class:"tab-bar-scroll"},It={class:"tags-wrap"},Rt=At(()=>v("div",{class:"tag-bar-operation"},null,-1)),Vt=A({__name:"index",setup(n){const a=q(),d=I(),i=M(),l=g(()=>d.navbarHeight),p=g(()=>a.getTabList);return ee(o=>{p.value.some(m=>m.fullPath===o.fullPath)||a.addTab(o)},!0),Me(()=>{fe()}),(o,m)=>{const x=Le;return b(),L("div",Bt,[e(x,{ref_key:"affixRef",ref:i,"offset-top":f(l)},{default:c(()=>[v("div",Mt,[v("div",Lt,[v("div",It,[(b(!0),L(te,null,ne(f(p),(r,C)=>(b(),F(wt,{key:r.fullPath,index:C,"tab-data":r},null,8,["index","tab-data"]))),128))])]),Rt])]),_:1},8,["offset-top"])])}}});const Pt=w(Vt,[["__scopeId","data-v-eb3bce71"]]);const zt={},Nt=U(" Copyright \xA92022 VEnable Admin ");function Ot(n,a){const d=Ie;return b(),F(d,{class:"footer"},{default:c(()=>[Nt]),_:1})}const jt=w(zt,[["render",Ot],["__scopeId","data-v-ac3acfb0"]]),Ut={class:"layout-menu"},Wt=A({__name:"index",setup(n){const a=I(),d=J(),i=q(),l=g(()=>d.menuList),p=Qe(()=>{document.hidden||a.updateSettings({isMobile:Xe()})},100);Ze(window,"resize",p);const o=g(()=>a.sidebarCollapsed?48:a.sidebarWidth),m=g(()=>a.sidebarCollapsed),x=g(()=>a.isMobile),r=S=>{a.updateSettings({sidebarCollapsed:S})},C=M(!0),E=g(()=>a.navbarHeight),D=g(()=>{const S=l.value&&!x.value?{paddingLeft:`${o.value}px`}:{},y=C.value?{paddingTop:`${E.value}px`}:{};return{...S,...y}}),s=g(()=>({height:`${E.value}px`})),u=g(()=>({...C.value?{paddingTop:`${E.value}px`}:{}})),h=M(!1),t=()=>{h.value=!1},_=g(()=>i.getTabCacheList),k=g(()=>a.multiTabs);return Re(()=>{p()}),He("toggleDrawerMenu",()=>{h.value=!h.value}),(S,y)=>{const T=je,B=Ue,V=ae,W=$("router-view"),H=We,P=Ve;return b(),F(P,{class:"layout"},{default:c(()=>[e(T,{class:"layout-header",style:O(f(s))},{default:c(()=>[e(bt)]),_:1},8,["style"]),e(P,null,{default:c(()=>[f(l)?Pe((b(),F(B,{key:0,class:"layout-sider",width:f(o),"hide-trigger":!0,collapsed:f(m),collapsible:!0,style:O(f(u)),breakpoint:"xl",onCollapse:r},{default:c(()=>[v("div",Ut,[e(Y)])]),_:1},8,["width","collapsed","style"])),[[ze,!f(x)]]):j("",!0),f(x)?(b(),F(V,{key:1,visible:h.value,placement:"left",footer:!1,header:!1,"mask-closable":"",closable:!1,onCancel:t},{default:c(()=>[e(Y)]),_:1},8,["visible"])):j("",!0),e(P,{class:"layout-content",style:O(f(D))},{default:c(()=>[f(a).multiTabs?(b(),F(Pt,{key:0})):j("",!0),e(H,{style:{padding:"1rem"}},{default:c(()=>[e(W,null,{default:c(({Component:N,route:z})=>[e(Ne,{name:"fade",mode:"out-in",appear:""},{default:c(()=>[z.meta.cache||f(k)?(b(),F(Oe,{key:0,include:f(_)},[(b(),F(Q(N),{key:z.fullPath}))],1032,["include"])):(b(),F(Q(N),{key:z.fullPath}))]),_:2},1024)]),_:1})]),_:1}),e(jt)]),_:1},8,["style"])]),_:1})]),_:1})}}});const Zt=w(Wt,[["__scopeId","data-v-30a56115"]]);export{Zt as default};
