import{a as V,b as U,_ as L,u as re,c as de,l as Z,d as W,D as _e,R as pe,r as fe}from"./index.f4ed2ccb.js";/* empty css               */import{d as T,b0 as he,b1 as be,z as h,aC as k,A as I,D as f,aR as O,b2 as Q,b3 as X,aE as t,a as M,c as F,b4 as ve,b5 as ee,aD as l,u as v,aS as K,aI as ge,aP as me,b6 as ye,b7 as Fe,aZ as te,C as j,b8 as N,b9 as ke,aF as S,aV as xe,aY as ne,aK as H,aL as J,i as Ce,ba as Ee,bb as Se,h as De,bc as we,bd as $e,be as Te,bf as Be,B as Ae,o as Me,bg as Le,q as Ie,bh as Re,bi as Pe,bj as Ve,bk as ze,bl as Ne,bm as q,bn as Oe,bo as je,bp as Ue,p as We}from"./arco.64b52f11.js";import{g as Ke,h as He,i as Je,j as qe,e as ae,f as se,k as Ge,l as Ye}from"./vue.d8384494.js";/* empty css               *//* empty css              */function Ze(){return document.body.getBoundingClientRect().width-1<992}const Qe=T({__name:"form-wrapper",props:{type:{type:String,default:""},name:{type:String,default:""},defaultValue:{type:[String,Boolean,Number],default:""}},emits:["inputChange"],setup(a,{emit:s}){const _=a,i=u=>{s("inputChange",{value:u,key:_.name})};return(u,p)=>{const c=he,g=be;return a.type==="number"?(h(),k(c,{key:0,style:{width:"80px"},size:"small","default-value":a.defaultValue,onChange:i},null,8,["default-value"])):(h(),k(g,{key:1,"default-checked":a.defaultValue,size:"small",onChange:i},null,8,["default-checked"]))}}}),Xe={class:"block"},et={class:"title"},tt=T({__name:"block",props:{title:{type:String,default:""},options:{type:Array,default(){return[]}}},setup(a){const s=V(),_=U(),i=async({key:u,value:p})=>{u==="colorWeakness"&&(document.body.style.filter=p?"invert(80%)":"none"),u==="serverMenu"&&p&&await _.buildRoutes(),s.updateSettings({[u]:p})};return(u,p)=>(h(),I("div",Xe,[f("h5",et,O(a.title),1),(h(!0),I(Q,null,X(a.options,c=>(h(),I("div",{key:c.name,class:"switch-wrapper"},[f("span",null,O(c.name),1),t(Qe,{type:c.type||"switch",name:c.key,"default-value":c.defaultVal,onInputChange:i},null,8,["type","name","default-value"])]))),128))]))}});const G=L(tt,[["__scopeId","data-v-adb09ea2"]]),nt=K(" \u9875\u9762\u914D\u7F6E "),at=K(' \u914D\u7F6E\u4E4B\u540E\u4EC5\u662F\u4E34\u65F6\u751F\u6548\uFF0C\u8981\u60F3\u771F\u6B63\u4F5C\u7528\u4E8E\u9879\u76EE\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684 "\u590D\u5236\u914D\u7F6E" \u6309\u94AE\uFF0C\u5C06\u914D\u7F6E\u66FF\u6362\u5230 settings.json \u4E2D\u5373\u53EF\u3002 '),st=T({__name:"index",setup(a,{expose:s}){const _=M(!1),i=V(),{copy:u}=Ke(),p=F(()=>[{name:"\u4F7F\u7528\u670D\u52A1\u7AEF\u83DC\u5355",key:"serverMenu",defaultVal:i.serverMenu},{name:"\u4FA7\u8FB9\u680F\u5BBD\u5EA6",key:"siderWidth",defaultVal:i.siderWidth,type:"number"},{name:"\u591A\u9875\u7B7E",key:"multiTabs",defaultVal:i.multiTabs}]),c=F(()=>[{name:"\u8272\u5F31\u6A21\u5F0F",key:"colorWeakness",defaultVal:i.colorWeakness}]),g=async()=>{const r=JSON.stringify(i.$state,null,2);await u(r),ge.success("\u590D\u5236\u6210\u529F")},y=()=>{_.value=!1};return s({visible:_}),(r,C)=>{const E=ve,D=ee;return h(),k(D,{width:350,"unmount-on-close":"",visible:_.value,"cancel-text":"\u5173\u95ED","ok-text":"\u590D\u5236\u914D\u7F6E",onCancel:y,onOk:g},{title:l(()=>[nt]),default:l(()=>[t(G,{options:v(p),title:"\u5185\u5BB9\u533A\u57DF"},null,8,["options"]),t(G,{options:v(c),title:"\u5176\u4ED6\u8BBE\u7F6E"},null,8,["options"]),t(E,null,{default:l(()=>[at]),_:1})]),_:1},8,["visible"])}}});const ot=L(st,[["__scopeId","data-v-07ef2356"]]),oe=a=>(H("data-v-72faf4dc"),a=a(),J(),a),ut={class:"navbar"},ct={class:"navbar-left"},lt=oe(()=>f("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"},null,-1)),it=K(" VEnable "),rt={class:"navbar-right"},dt=["src"],_t=oe(()=>f("span",null," \u9000\u51FA\u767B\u5F55 ",-1)),pt=T({__name:"index",setup(a){const s=V(),_=re(),i=Ce("toggleDrawerMenu"),u=F(()=>s.theme),p=He({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(o){s.toggleTheme(o)}}),c=Je(p),g=()=>{c()},{isFullscreen:y,toggle:r}=qe(),C=M(),E=()=>{C.value.visible=!0},D=F(()=>_.avatar),n=()=>{_.logout()};return(o,b)=>{const e=ke,d=S("icon-menu-fold"),x=me,w=S("icon-moon-fill"),m=S("icon-sun-fill"),$=xe,B=ye,A=S("icon-fullscreen-exit"),z=S("icon-fullscreen"),P=S("icon-settings"),ue=Fe,ce=S("icon-export"),le=ne,ie=te;return h(),I("div",ut,[f("div",ct,[t(x,null,{default:l(()=>[lt,t(e,{style:j({marginTop:"0.8rem",fontSize:"18px"}),heading:5},{default:l(()=>[it]),_:1},8,["style"]),v(s).isMobile?(h(),k(d,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:v(i)},null,8,["onClick"])):N("",!0)]),_:1})]),f("ul",rt,[f("li",null,[t(B,{content:v(u)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u660E\u4EAE\u6A21\u5F0F"},{default:l(()=>[t($,{class:"nav-btn",type:"outline",shape:"circle",onClick:g},{icon:l(()=>[v(u)==="dark"?(h(),k(w,{key:0})):(h(),k(m,{key:1}))]),_:1})]),_:1},8,["content"])]),f("li",null,[t(B,{content:v(y)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:l(()=>[t($,{class:"nav-btn",type:"outline",shape:"circle",onClick:v(r)},{icon:l(()=>[v(y)?(h(),k(A,{key:0})):(h(),k(z,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),f("li",null,[t(B,{content:"\u9875\u9762\u914D\u7F6E"},{default:l(()=>[t($,{class:"nav-btn",type:"outline",shape:"circle",onClick:E},{icon:l(()=>[t(P)]),_:1})]),_:1})]),f("li",null,[t(ie,{trigger:"click"},{content:l(()=>[t(le,null,{default:l(()=>[t(x,{onClick:n},{default:l(()=>[t(ce),_t]),_:1})]),_:1})]),default:l(()=>[t(ue,{size:28,style:{cursor:"pointer"}},{default:l(()=>[f("img",{alt:"avatar",src:v(D)},null,8,dt)]),_:1})]),_:1})])]),t(ot,{ref_key:"settingsRef",ref:C},null,512)])}}});const ft=L(pt,[["__scopeId","data-v-72faf4dc"]]);const ht=(a,s)=>{const{target:_="_blank",...i}=s||{};window.open(a,_,Object.entries(i).reduce((u,p)=>{const[c,g]=p;return[...u,`${c}=${g}`]},[]).join(","))},bt=/^(?!mailto:)(?:http|https|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}\.(?:\d\d?|1\d\d|2[0-4]\d|25[0-4])|(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+(?:\.(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+)*\.[a-z\u00A1-\uFFFF]{2,})|localhost)(?::\d{2,5})?(?:([#/?])\S*)?$/i;function vt(){const a=U(),s=de(),_=F(()=>a.getMenuList);return{menuTree:F(()=>{const u=JSON.parse(JSON.stringify(_.value));u.sort((c,g)=>{var y,r;return(Number((y=c.meta)==null?void 0:y.order)||0)-(Number((r=g.meta)==null?void 0:r.order)||0)});function p(c,g){return c?c.map(r=>{var E,D;if(!s.accessRouter(r))return null;if(((E=r.meta)==null?void 0:E.hideChildrenInMenu)||!r.children)return r.children=[],r;r.children=r.children.filter(n=>{var o;return((o=n.meta)==null?void 0:o.hideInMenu)!==!0});const C=p(r.children,g+1);return C.length>0||g>1?(r.children=C,r):((D=r.meta)==null?void 0:D.hideInMenu)===!1?r:null}).filter(Boolean):null}return p(u,0)})}}function gt(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Se(a)}const mt=T({__name:"index",setup(a){const s=ae(),_=se(),i=V(),{menuTree:u}=vt(),p=M([]),c=M([]),g=F({get(){return i.isMobile?!1:i.siderCollapsed},set(n){i.updateSettings({siderCollapsed:n})}}),y=n=>{i.isMobile||i.updateSettings({siderCollapsed:n})},r=n=>{if(bt.test(n.path)){ht(n.path),c.value=[n.name];return}const{hideInMenu:o,activeMenu:b}=n.meta;if(_.name===n.name&&!o&&!b){c.value=[n.name];return}s.push({name:n.name})},C=n=>{const o=[];let b=!1;const e=(d,x,w)=>{var m;if(d.name===w){b=!0,o.push(...x,d.name);return}(m=d.children)!=null&&m.length&&d.children.forEach($=>{e($,[...x],w)})};return u.value.forEach(d=>{b||e(d,[d.name],n)}),o};Z(n=>{const{ignoreAuth:o,activeMenu:b,hideInMenu:e}=n.meta;if(!o&&(!e||b)){const d=C(b||n.name),x=new Set([...d,...p.value]);p.value=[...x],c.value=[b||d[d.length-1]]}},!0);const E=()=>{function n(o,b=[]){return o&&o.forEach(e=>{var w;const d=(w=e==null?void 0:e.meta)!=null&&w.icon?()=>{var m;return De(we(`<${(m=e==null?void 0:e.meta)==null?void 0:m.icon}/>`))}:null,x=(e==null?void 0:e.children)&&(e==null?void 0:e.children.length)!==0?t($e,{key:e==null?void 0:e.name},{default:()=>[n(e==null?void 0:e.children)],icon:d,title:()=>{var m;return(m=e==null?void 0:e.meta)==null?void 0:m.title}}):t(Te,{key:e==null?void 0:e.name,onClick:()=>r(e)},{default:()=>{var m;return[((m=e==null?void 0:e.meta)==null?void 0:m.title)||""]},icon:d});b.push(x)}),b}return n(u.value)},D=()=>{let n;return t(Ee,{collapsed:g.value,"onUpdate:collapsed":o=>g.value=o,"open-keys":p.value,"onUpdate:open-keys":o=>p.value=o,"show-collapse-button":!i.isMobile,"auto-open":!1,"selected-keys":c.value,"auto-open-selected":!0,"level-indent":34,onCollapse:y,style:"height: 100%"},gt(n=E())?n:{default:()=>[n]})};return(n,o)=>(h(),k(D))}});const Y=L(mt,[["__scopeId","data-v-32c0820a"]]);const R=a=>(H("data-v-8897531e"),a=a(),J(),a),yt={class:"tag-link"},Ft=R(()=>f("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),kt=R(()=>f("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),xt=R(()=>f("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),Ct=R(()=>f("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),Et=R(()=>f("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),St=R(()=>f("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),Dt=T({__name:"tab-item",props:{tabData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(a){const s=a,_=ae(),i=se(),u=W(),p=n=>{_.push({...n})},c=F(()=>u.getTabList),g=F(()=>s.tabData.fullPath!==i.fullPath),y=F(()=>s.index===0),r=F(()=>[0,1].includes(s.index)),C=F(()=>s.index===c.value.length-1),E=(n,o)=>{if(u.deleteTab(n,o),s.tabData.fullPath===i.fullPath){const b=c.value[n-1];_.push({name:b.name})}},D=async n=>{const{tabData:o,index:b}=s,e=[...c.value],d=c.value.findIndex(x=>x.fullPath===i.fullPath);switch(n){case"current":E(b,o);break;case"left":e.splice(1,s.index-1),u.refreshTabList(e),d<b&&_.push({name:o.name});break;case"right":e.splice(s.index+1),u.refreshTabList(e),d>b&&_.push({name:o.name});break;case"others":const x=c.value.filter((w,m)=>m===0||m===s.index);u.refreshTabList(x),_.push({name:o.name});break;case"reload":u.deleteTabCache(o),await _.push({name:pe,params:{path:i.fullPath}}),u.addTabCache(o.name);break;default:u.resetTabList(),_.push({name:_e})}};return(n,o)=>{const b=S("icon-close"),e=S("icon-refresh"),d=ne,x=S("icon-to-left"),w=S("icon-to-right"),m=S("icon-swap"),$=S("icon-folder-delete"),B=te;return h(),k(B,{trigger:"contextMenu","popup-max-height":!1,onSelect:D},{content:l(()=>[t(d,{disabled:v(g),value:"reload"},{default:l(()=>[t(e),Ft]),_:1},8,["disabled","value"]),t(d,{class:"sperate-line",disabled:v(y),value:"current"},{default:l(()=>[t(b),kt]),_:1},8,["disabled","value"]),t(d,{disabled:v(r),value:"left"},{default:l(()=>[t(x),xt]),_:1},8,["disabled","value"]),t(d,{class:"sperate-line",disabled:v(C),value:"right"},{default:l(()=>[t(w),Ct]),_:1},8,["disabled","value"]),t(d,{value:"others"},{default:l(()=>[t(m),Et]),_:1},8,["value"]),t(d,{value:"all"},{default:l(()=>[t($),St]),_:1},8,["value"])]),default:l(()=>[f("span",{class:Ae(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":a.tabData.fullPath===n.$route.fullPath}]),onClick:o[1]||(o[1]=A=>p(a.tabData))},[f("span",yt,O(a.tabData.title),1),f("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:o[0]||(o[0]=Be(A=>E(a.index,a.tabData),["stop"]))},[t(b)])],2)]),_:1})}}});const wt=L(Dt,[["__scopeId","data-v-8897531e"]]),$t=a=>(H("data-v-4be3d5be"),a=a(),J(),a),Tt={class:"tab-bar-container"},Bt={class:"tab-bar-box"},At={class:"tab-bar-scroll"},Mt={class:"tags-wrap"},Lt=$t(()=>f("div",{class:"tag-bar-operation"},null,-1)),It=T({__name:"index",setup(a){const s=W(),_=M(),i=50,u=F(()=>s.getTabList);return Z(p=>{u.value.some(c=>c.fullPath===p.fullPath)||s.addTab(p)},!0),Me(()=>{fe()}),(p,c)=>{const g=Le;return h(),I("div",Tt,[t(g,{ref_key:"affixRef",ref:_,"offset-top":i},{default:l(()=>[f("div",Bt,[f("div",At,[f("div",Mt,[(h(!0),I(Q,null,X(v(u),(y,r)=>(h(),k(wt,{key:y.fullPath,index:r,"tab-data":y},null,8,["index","tab-data"]))),128))])]),Lt])]),_:1},512)])}}});const Rt=L(It,[["__scopeId","data-v-4be3d5be"]]),Pt={class:"layout-menu"},Vt=T({__name:"index",setup(a){const s=V(),_=U(),i=W(),u=F(()=>_.menuList),p=Ye(()=>{document.hidden||s.updateSettings({isMobile:Ze()})},100);Ge(window,"resize",p);const c=F(()=>s.siderCollapsed?48:s.siderWidth),g=F(()=>s.siderCollapsed),y=F(()=>s.isMobile),r=e=>{s.updateSettings({siderCollapsed:e})},C="52px",E=M(!0),D=F(()=>{const e=u.value&&!y.value?{paddingLeft:`${c.value}px`}:{},d=E.value?{paddingTop:C}:{};return{...e,...d}}),n=M(!1),o=()=>{n.value=!1},b=F(()=>i.getTabCacheList);return Ie(()=>{p()}),We("toggleDrawerMenu",()=>{n.value=!n.value}),(e,d)=>{const x=Oe,w=je,m=ee,$=S("router-view"),B=Ue,A=Re;return h(),k(A,{class:"layout"},{default:l(()=>[t(x,{class:"layout-header"},{default:l(()=>[t(ft)]),_:1}),t(A,null,{default:l(()=>[v(u)?Pe((h(),k(w,{key:0,class:"layout-sider",width:v(c),"hide-trigger":!0,collapsed:v(g),collapsible:!0,style:j({paddingTop:E.value?C:""}),breakpoint:"xl",onCollapse:r},{default:l(()=>[f("div",Pt,[t(Y)])]),_:1},8,["width","collapsed","style"])),[[Ve,!v(y)]]):N("",!0),v(y)?(h(),k(m,{key:1,visible:n.value,placement:"left",footer:!1,header:!1,"mask-closable":"",closable:!1,onCancel:o},{default:l(()=>[t(Y)]),_:1},8,["visible"])):N("",!0),t(A,{class:"layout-content",style:j(v(D))},{default:l(()=>[v(s).multiTabs?(h(),k(Rt,{key:0})):N("",!0),t(B,null,{default:l(()=>[t($,null,{default:l(({Component:z,route:P})=>[t(ze,{name:"fade",mode:"out-in",appear:""},{default:l(()=>[P.meta.cache?(h(),k(Ne,{key:0,include:v(b)},[(h(),k(q(z),{key:P.fullPath}))],1032,["include"])):(h(),k(q(z),{key:P.fullPath}))]),_:2},1024)]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})}}});const Kt=L(Vt,[["__scopeId","data-v-94c5025b"]]);export{Kt as default};
