import{a as z,b as G,_ as B,r as Z,u as ke,c as Fe,l as se,d as Q,D as xe,R as Ce,e as Ee}from"./index.4cf0efcb.js";/* empty css               */import{d as A,ba as Se,bb as $e,z as r,aC as v,A as L,D as b,aR as M,a$ as H,b0 as q,aE as t,a as I,c as m,bc as De,bd as oe,aD as e,aS as T,u as g,aI as Te,b9 as we,aF as D,be as Le,B as ue,C as V,bf as N,bg as Be,bh as ce,bi as Ae,aP as le,bj as Me,bk as Ie,bl as Re,aO as Ne,r as Pe,j as Ve,bm as ze,bn as Oe,aV as ie,aW as je,bo as Ue,b3 as Ke,bp as We,b6 as He,b5 as re,bq as qe,b4 as de,aK as X,aL as Y,i as Je,br as Ge,bs as Qe,h as Xe,b8 as Ye,bt as Ze,bu as et,bv as tt,o as nt,bw as at,bx as st,q as ot,by as ut,bz as ct,bA as lt,bB as it,bC as rt,bD as ee,bE as dt,bF as _t,bG as pt,p as ft}from"./arco.76affc6e.js";import{g as bt,h as ht,i as yt,j as gt,e as _e,f as pe,k as vt,l as mt}from"./vue.8fb7238c.js";/* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               */import{u as kt}from"./loading.b3650243.js";const Ft="/venable-admin/assets/logo.e70dcf41.png";const xt=A({__name:"form-wrapper",props:{type:{type:String,default:""},name:{type:String,default:""},defaultValue:{type:[String,Boolean,Number],default:""}},emits:["inputChange"],setup(s,{emit:o}){const _=s,l=i=>{o("inputChange",{value:i,key:_.name})};return(i,h)=>{const u=Se,k=$e;return s.type==="number"?(r(),v(u,{key:0,style:{width:"80px"},size:"small","default-value":s.defaultValue,onChange:l},null,8,["default-value"])):(r(),v(k,{key:1,"default-checked":s.defaultValue,size:"small",onChange:l},null,8,["default-checked"]))}}}),Ct={class:"block"},Et={class:"title"},St=A({__name:"block",props:{title:{type:String,default:""},options:{type:Array,default(){return[]}}},setup(s){const o=z(),_=G(),l=async({key:i,value:h})=>{i==="colorWeakness"&&(document.body.style.filter=h?"invert(80%)":"none"),i==="serverMenu"&&h&&await _.buildRoutes(),o.updateSettings({[i]:h})};return(i,h)=>(r(),L("div",Ct,[b("h5",Et,M(s.title),1),(r(!0),L(H,null,q(s.options,u=>(r(),L("div",{key:u.name,class:"switch-wrapper"},[b("span",null,M(u.name),1),t(xt,{type:u.type||"switch",name:u.key,"default-value":u.defaultVal,onInputChange:l},null,8,["type","name","default-value"])]))),128))]))}});const te=B(St,[["__scopeId","data-v-f0e84a6d"]]),$t=A({__name:"index",setup(s,{expose:o}){const _=I(!1),l=z(),{copy:i}=bt(),h=m(()=>[{name:"\u4F7F\u7528\u670D\u52A1\u7AEF\u83DC\u5355",key:"serverMenu",defaultVal:l.serverMenu},{name:"\u9876\u680F\u9AD8\u5EA6",key:"navbarheight",defaultVal:l.navbarHeight,type:"number"},{name:"\u4FA7\u8FB9\u680F\u5BBD\u5EA6",key:"sidebarWidth",defaultVal:l.sidebarWidth,type:"number"},{name:"\u591A\u9875\u7B7E",key:"multiTabs",defaultVal:l.multiTabs}]),u=m(()=>[{name:"\u8272\u5F31\u6A21\u5F0F",key:"colorWeakness",defaultVal:l.colorWeakness}]),k=async()=>{const p=JSON.stringify(l.$state,null,2);await i(p),Te.success("\u590D\u5236\u6210\u529F")},F=()=>{_.value=!1};return o({visible:_}),(p,C)=>{const E=De,$=oe;return r(),v($,{width:350,"unmount-on-close":"",visible:_.value,"cancel-text":"\u5173\u95ED","ok-text":"\u590D\u5236\u914D\u7F6E",onCancel:F,onOk:k},{title:e(()=>[T("\u9875\u9762\u914D\u7F6E")]),default:e(()=>[t(te,{options:g(h),title:"\u5185\u5BB9\u533A\u57DF"},null,8,["options"]),t(te,{options:g(u),title:"\u5176\u4ED6\u8BBE\u7F6E"},null,8,["options"]),t(E,null,{default:e(()=>[T(' \u914D\u7F6E\u4E4B\u540E\u4EC5\u662F\u4E34\u65F6\u751F\u6548\uFF0C\u8981\u60F3\u771F\u6B63\u4F5C\u7528\u4E8E\u9879\u76EE\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684 "\u590D\u5236\u914D\u7F6E" \u6309\u94AE\uFF0C\u5C06\u914D\u7F6E\u66FF\u6362\u5230 settings.json \u4E2D\u5373\u53EF\u3002 ')]),_:1})]),_:1},8,["visible"])}}});const Dt=B($t,[["__scopeId","data-v-6b914182"]]);const Tt=["onClick"],wt=["src"],Lt={class:"footer-wrap"},Bt={class:"footer-wrap"},At=A({__name:"notify-list",props:{renderList:{type:Array,required:!0},unreadCount:{type:Number,default:0}},emits:["itemClick"],setup(s,{emit:o}){const _=s,l=()=>{o("itemClick",[..._.renderList])},i=u=>{u.status||o("itemClick",[u])},h=3;return(u,k)=>{const F=we,p=D("icon-desktop"),C=ce,E=Ae,$=le,c=Me,a=Ie,d=Re,n=Ne,y=Le;return r(),v(y,{bordered:!1},{footer:e(()=>[t($,{fill:"",size:0,class:ue({"add-border-top":s.renderList.length<h})},{default:e(()=>[b("div",Lt,[t(n,{onClick:l},{default:e(()=>[T("\u5168\u90E8\u5DF2\u8BFB")]),_:1})]),b("div",Bt,[t(n,null,{default:e(()=>[T("\u67E5\u770B\u66F4\u591A")]),_:1})])]),_:1},8,["class"])]),default:e(()=>[(r(!0),L(H,null,q(s.renderList,f=>(r(),v(d,{key:f.id,"action-layout":"vertical",style:V({opacity:f.status?.5:1})},{extra:e(()=>[f.messageType===0?(r(),v(F,{key:0,color:"gray"},{default:e(()=>[T("\u672A\u5F00\u59CB")]),_:1})):f.messageType===1?(r(),v(F,{key:1,color:"green"},{default:e(()=>[T("\u5DF2\u5F00\u901A")]),_:1})):f.messageType===2?(r(),v(F,{key:2,color:"blue"},{default:e(()=>[T("\u8FDB\u884C\u4E2D")]),_:1})):f.messageType===3?(r(),v(F,{key:3,color:"red"},{default:e(()=>[T("\u5373\u5C06\u5230\u671F")]),_:1})):N("",!0)]),default:e(()=>[b("div",{class:"item-wrap",onClick:S=>i(f)},[t(a,null,Be({title:e(()=>[t($,{size:4},{default:e(()=>[b("span",null,M(f.title),1),t(E,{type:"secondary"},{default:e(()=>[T(M(f.subTitle),1)]),_:2},1024)]),_:2},1024)]),description:e(()=>[b("div",null,[t(c,{ellipsis:{rows:1}},{default:e(()=>[T(M(f.content),1)]),_:2},1024),f.type==="message"?(r(),v(E,{key:0,class:"time-text"},{default:e(()=>[T(M(f.time),1)]),_:2},1024)):N("",!0)])]),_:2},[f.avatar?{name:"avatar",fn:e(()=>[t(C,{shape:"circle"},{default:e(()=>[f.avatar?(r(),L("img",{key:0,src:f.avatar},null,8,wt)):(r(),v(p,{key:1}))]),_:2},1024)]),key:"0"}:void 0]),1024)],8,Tt)]),_:2},1032,["style"]))),128)),s.renderList.length>0&&s.renderList.length<3?(r(),L("div",{key:0,style:V({height:`${(h-s.renderList.length)*86}px`})},null,4)):N("",!0)]),_:1})}}});const Mt=B(At,[["__scopeId","data-v-9b2393e7"]]);class ne{static list(){return Z.get("/notify/list")}static read(o){return Z.post("/notify/read",o)}}const It=A({__name:"index",setup(s){const{loading:o,setLoading:_}=kt(!0),l=Pe({notifyList:[]});Ve(l);const i=I("message"),h=[{key:"message",title:"\u6D88\u606F"},{key:"notice",title:"\u901A\u77E5"},{key:"todo",title:"\u5F85\u529E"}],u=m(()=>l.notifyList.filter(a=>i.value===a.type)),k=m(()=>u.value.filter(a=>!a.status).length),F=a=>l.notifyList.filter(n=>n.type===a&&!n.status),p=a=>{const d=F(a);return d.length>0?`(${d.length})`:""},C=async()=>{_(!0);try{const a=await ne.list();l.notifyList=a}catch(a){}finally{_(!1)}};async function E(a){const d=a.map(n=>n.id);await ne.read({ids:d}),C()}const $=a=>{u.value.length>0&&E([...a])},c=()=>{l.notifyList=[]};return C(),(a,d)=>{const n=je,y=Ue,f=ie,S=ze,x=Oe;return r(),v(x,{style:{display:"block"},loading:g(o)},{default:e(()=>[t(S,{activeKey:i.value,"onUpdate:activeKey":d[0]||(d[0]=w=>i.value=w),type:"rounded","destroy-on-hide":""},{extra:e(()=>[t(f,{type:"text",onClick:c},{default:e(()=>[T("\u6E05\u7A7A")]),_:1})]),default:e(()=>[(r(),L(H,null,q(h,w=>t(y,{key:w.key},{title:e(()=>[b("span",null,M(w.title)+M(p(w.key)),1)]),default:e(()=>[g(u).length===0?(r(),v(n,{key:0,status:"404"},{subtitle:e(()=>[T("\u6682\u65E0\u5185\u5BB9")]),_:1})):N("",!0),t(Mt,{"render-list":g(u),"unread-count":g(k),onItemClick:$},null,8,["render-list","unread-count"])]),_:2},1024)),64))]),_:1},8,["activeKey"])]),_:1},8,["loading"])}}});const Rt=B(It,[["__scopeId","data-v-cb7ee625"]]),fe=s=>(X("data-v-cc4a03d6"),s=s(),Y(),s),Nt={class:"navbar"},Pt={class:"navbar-left"},Vt=fe(()=>b("img",{alt:"logo",src:Ft},null,-1)),zt={class:"navbar-right"},Ot={class:"message-box-trigger"},jt=["src"],Ut=fe(()=>b("span",null,"\u9000\u51FA\u767B\u5F55",-1)),Kt=A({__name:"index",setup(s){const o=z(),_=ke(),l=Je("toggleDrawerMenu"),i=m(()=>o.theme),h=ht({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(n){o.toggleTheme(n)}}),u=yt(h),k=()=>{u()},F=I(),p=()=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});F.value.dispatchEvent(n)},{isFullscreen:C,toggle:E}=gt(),$=I(),c=()=>{$.value.visible=!0},a=m(()=>_.avatar),d=()=>{_.logout()};return(n,y)=>{const f=qe,S=D("icon-menu-fold"),x=le,w=D("icon-moon-fill"),j=D("icon-sun-fill"),R=ie,P=Ke,J=D("icon-notification"),U=We,W=He,K=D("icon-fullscreen-exit"),be=D("icon-fullscreen"),he=D("icon-settings"),ye=ce,ge=D("icon-export"),ve=de,me=re;return r(),L("div",Nt,[b("div",Pt,[t(x,null,{default:e(()=>[Vt,t(f,{style:V({marginTop:"0.8rem",fontSize:"18px"}),heading:5},{default:e(()=>[T(" VEnable ")]),_:1},8,["style"]),g(o).isMobile?(r(),v(S,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:g(l)},null,8,["onClick"])):N("",!0)]),_:1})]),b("ul",zt,[b("li",null,[t(P,{content:g(i)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u660E\u4EAE\u6A21\u5F0F"},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:k},{icon:e(()=>[g(i)==="dark"?(r(),v(w,{key:0})):(r(),v(j,{key:1}))]),_:1})]),_:1},8,["content"])]),b("li",null,[t(P,{content:"\u6D88\u606F\u901A\u77E5"},{default:e(()=>[b("div",Ot,[t(U,{count:9,dot:""},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:p},{default:e(()=>[t(J)]),_:1})]),_:1})])]),_:1}),t(W,{trigger:"click","arrow-style":{display:"none"},"content-style":{padding:0,minWidth:"400px"},"content-class":"message-popover"},{content:e(()=>[t(Rt)]),default:e(()=>[b("div",{ref_key:"msgBoxRef",ref:F,class:"ref-btn"},null,512)]),_:1})]),b("li",null,[t(P,{content:g(C)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:g(E)},{icon:e(()=>[g(C)?(r(),v(K,{key:0})):(r(),v(be,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),b("li",null,[t(P,{content:"\u9875\u9762\u914D\u7F6E"},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:c},{icon:e(()=>[t(he)]),_:1})]),_:1})]),b("li",null,[t(me,{trigger:"click"},{content:e(()=>[t(ve,null,{default:e(()=>[t(x,{onClick:d},{default:e(()=>[t(ge),Ut]),_:1})]),_:1})]),default:e(()=>[t(ye,{size:28,style:{cursor:"pointer"}},{default:e(()=>[b("img",{alt:"avatar",src:g(a)},null,8,jt)]),_:1})]),_:1})])]),t(Dt,{ref_key:"settingsRef",ref:$},null,512)])}}});const Wt=B(Kt,[["__scopeId","data-v-cc4a03d6"]]);function Ht(){const s=G(),o=Fe(),_=m(()=>s.getMenuList);return{menuTree:m(()=>{const i=JSON.parse(JSON.stringify(_.value));i.sort((u,k)=>{var F,p;return(Number((F=u.meta)==null?void 0:F.order)||0)-(Number((p=k.meta)==null?void 0:p.order)||0)});function h(u,k){return u?u.map(p=>{var E,$;if(!o.accessRouter(p))return null;if(((E=p.meta)==null?void 0:E.hideChildrenInMenu)||!p.children)return p.children=[],p;p.children=p.children.filter(c=>{var a;return((a=c.meta)==null?void 0:a.hideInMenu)!==!0});const C=h(p.children,k+1);return C.length>0||k>1?(p.children=C,p):(($=p.meta)==null?void 0:$.hideInMenu)===!1?p:null}).filter(Boolean):null}return h(i,0)})}}const qt=(s,o)=>{const{target:_="_blank",...l}=o||{};window.open(s,_,Object.entries(l).reduce((i,h)=>{const[u,k]=h;return[...i,`${u}=${k}`]},[]).join(","))},Jt=/^(?!mailto:)(?:http|https|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}\.(?:\d\d?|1\d\d|2[0-4]\d|25[0-4])|(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+(?:\.(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+)*\.[a-z\u00A1-\uFFFF]{2,})|localhost)(?::\d{2,5})?(?:([#/?])\S*)?$/i;function Gt(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!Qe(s)}const Qt=A({__name:"index",setup(s){const o=_e(),_=pe(),l=z(),{menuTree:i}=Ht(),h=I([]),u=I([]),k=m({get(){return l.isMobile?!1:l.sidebarCollapsed},set(c){l.updateSettings({sidebarCollapsed:c})}}),F=c=>{l.isMobile||l.updateSettings({sidebarCollapsed:c})},p=c=>{if(Jt.test(c.path)){qt(c.path),u.value=[c.name];return}const{hideInMenu:a,activeMenu:d}=c.meta;if(_.name===c.name&&!a&&!d){u.value=[c.name];return}o.push({name:c.name})},C=c=>{const a=[];let d=!1;const n=(y,f)=>{var S;if(y.name===c){d=!0,a.push(...f,y.name);return}(S=y.children)!=null&&S.length&&y.children.forEach(x=>{n(x,[...f,x.name])})};return i.value.forEach(y=>{d||n(y,[y.name])}),a};se(c=>{const{ignoreAuth:a,activeMenu:d,hideInMenu:n}=c.meta;if(!a&&(!n||d)){const y=C(d||c.name),f=new Set([...y,...h.value]);h.value=[...f],u.value=[d||y[y.length-1]]}},!0);const E=()=>{function c(a,d=[]){return a&&a.forEach(n=>{var S;const y=(S=n==null?void 0:n.meta)!=null&&S.icon?()=>{var x;return Xe(Ye(`<${(x=n==null?void 0:n.meta)==null?void 0:x.icon}/>`))}:null,f=(n==null?void 0:n.children)&&(n==null?void 0:n.children.length)!==0?t(Ze,{key:n==null?void 0:n.name},{default:()=>[c(n==null?void 0:n.children)],icon:y,title:()=>{var x;return(x=n==null?void 0:n.meta)==null?void 0:x.title}}):t(et,{key:n==null?void 0:n.name,onClick:()=>p(n)},{default:()=>{var x;return[((x=n==null?void 0:n.meta)==null?void 0:x.title)||""]},icon:y});d.push(f)}),d}return c(i.value)},$=()=>{let c;return t(Ge,{collapsed:k.value,"onUpdate:collapsed":a=>k.value=a,"open-keys":h.value,"onUpdate:open-keys":a=>h.value=a,"show-collapse-button":!l.isMobile,"auto-open":!1,"selected-keys":u.value,"auto-open-selected":!0,"level-indent":34,onCollapse:F,style:"height: 100%"},Gt(c=E())?c:{default:()=>[c]})};return(c,a)=>(r(),v($))}});const ae=B(Qt,[["__scopeId","data-v-5c5dbd85"]]);const O=s=>(X("data-v-41857ab3"),s=s(),Y(),s),Xt={class:"tag-link"},Yt=O(()=>b("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),Zt=O(()=>b("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),en=O(()=>b("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),tn=O(()=>b("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),nn=O(()=>b("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),an=O(()=>b("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),sn=A({__name:"tab-item",props:{tabData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(s){const o=s,_=_e(),l=pe(),i=Q(),h=c=>{_.push({...c})},u=m(()=>i.getTabList),k=m(()=>o.tabData.fullPath!==l.fullPath),F=m(()=>o.index===0),p=m(()=>[0,1].includes(o.index)),C=m(()=>o.index===u.value.length-1),E=(c,a)=>{if(i.deleteTab(c,a),o.tabData.fullPath===l.fullPath){const d=u.value[c-1];_.push({name:d.name})}},$=async c=>{const{tabData:a,index:d}=o,n=[...u.value],y=u.value.findIndex(f=>f.fullPath===l.fullPath);switch(c){case"current":E(d,a);break;case"left":n.splice(1,o.index-1),i.refreshTabList(n),y<d&&_.push({name:a.name});break;case"right":n.splice(o.index+1),i.refreshTabList(n),y>d&&_.push({name:a.name});break;case"others":const f=u.value.filter((S,x)=>x===0||x===o.index);i.refreshTabList(f),_.push({name:a.name});break;case"reload":i.deleteTabCache(a),await _.push({name:Ce,params:{path:l.fullPath}}),i.addTabCache(a.name);break;default:i.resetTabList(),_.push({name:xe})}};return(c,a)=>{const d=D("icon-close"),n=D("icon-refresh"),y=de,f=D("icon-to-left"),S=D("icon-to-right"),x=D("icon-swap"),w=D("icon-folder-delete"),j=re;return r(),v(j,{trigger:"contextMenu","popup-max-height":!1,onSelect:$},{content:e(()=>[t(y,{disabled:g(k),value:"reload"},{default:e(()=>[t(n),Yt]),_:1},8,["disabled","value"]),t(y,{class:"sperate-line",disabled:g(F),value:"current"},{default:e(()=>[t(d),Zt]),_:1},8,["disabled","value"]),t(y,{disabled:g(p),value:"left"},{default:e(()=>[t(f),en]),_:1},8,["disabled","value"]),t(y,{class:"sperate-line",disabled:g(C),value:"right"},{default:e(()=>[t(S),tn]),_:1},8,["disabled","value"]),t(y,{value:"others"},{default:e(()=>[t(x),nn]),_:1},8,["value"]),t(y,{value:"all"},{default:e(()=>[t(w),an]),_:1},8,["value"])]),default:e(()=>[b("span",{class:ue(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":s.tabData.fullPath===c.$route.fullPath}]),onClick:a[1]||(a[1]=R=>h(s.tabData))},[b("span",Xt,M(s.tabData.title),1),b("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:a[0]||(a[0]=tt(R=>E(s.index,s.tabData),["stop"]))},[t(d)])],2)]),_:1})}}});const on=B(sn,[["__scopeId","data-v-41857ab3"]]),un=s=>(X("data-v-b348ddce"),s=s(),Y(),s),cn={class:"tab-bar-container"},ln={class:"tab-bar-box"},rn={class:"tab-bar-scroll"},dn={class:"tags-wrap"},_n=un(()=>b("div",{class:"tag-bar-operation"},null,-1)),pn=A({__name:"index",setup(s){const o=Q(),_=z(),l=I(),i=m(()=>_.navbarHeight),h=m(()=>o.getTabList);return se(u=>{h.value.some(k=>k.fullPath===u.fullPath)||o.addTab(u)},!0),nt(()=>{Ee()}),(u,k)=>{const F=at;return r(),L("div",cn,[t(F,{ref_key:"affixRef",ref:l,"offset-top":g(i)},{default:e(()=>[b("div",ln,[b("div",rn,[b("div",dn,[(r(!0),L(H,null,q(g(h),(p,C)=>(r(),v(on,{key:p.fullPath,index:C,"tab-data":p},null,8,["index","tab-data"]))),128))])]),_n])]),_:1},8,["offset-top"])])}}});const fn=B(pn,[["__scopeId","data-v-b348ddce"]]);const bn={};function hn(s,o){const _=st;return r(),v(_,{class:"footer"},{default:e(()=>[T("Copyright \xA92022 VEnable Admin")]),_:1})}const yn=B(bn,[["render",hn],["__scopeId","data-v-c5fe8f0a"]]);function gn(){return document.body.getBoundingClientRect().width-1<992}const vn={class:"layout-menu"},mn=A({__name:"index",setup(s){const o=z(),_=G(),l=Q(),i=m(()=>_.menuList),h=mt(()=>{document.hidden||o.updateSettings({isMobile:gn()})},100);vt(window,"resize",h);const u=m(()=>o.sidebarCollapsed?48:o.sidebarWidth),k=m(()=>o.sidebarCollapsed),F=m(()=>o.isMobile),p=S=>{o.updateSettings({sidebarCollapsed:S})},C=I(!0),E=m(()=>o.navbarHeight),$=m(()=>{const S=i.value&&!F.value?{paddingLeft:`${u.value}px`}:{},x=C.value?{paddingTop:`${E.value}px`}:{};return{...S,...x}}),c=m(()=>({height:`${E.value}px`})),a=m(()=>({...C.value?{paddingTop:`${E.value}px`}:{}})),d=I(!1),n=()=>{d.value=!1},y=m(()=>l.getTabCacheList),f=m(()=>o.multiTabs);return ot(()=>{h()}),ft("toggleDrawerMenu",()=>{d.value=!d.value}),(S,x)=>{const w=dt,j=_t,R=oe,P=D("router-view"),J=pt,U=ut;return r(),v(U,{class:"layout"},{default:e(()=>[t(w,{class:"layout-header",style:V(g(c))},{default:e(()=>[t(Wt)]),_:1},8,["style"]),t(U,null,{default:e(()=>[g(i)?ct((r(),v(j,{key:0,class:"layout-sider",width:g(u),"hide-trigger":!0,collapsed:g(k),collapsible:!0,style:V(g(a)),breakpoint:"xl",onCollapse:p},{default:e(()=>[b("div",vn,[t(ae)])]),_:1},8,["width","collapsed","style"])),[[lt,!g(F)]]):N("",!0),g(F)?(r(),v(R,{key:1,visible:d.value,placement:"left",footer:!1,header:!1,"mask-closable":"",closable:!1,onCancel:n},{default:e(()=>[t(ae)]),_:1},8,["visible"])):N("",!0),t(U,{class:"layout-content",style:V(g($))},{default:e(()=>[g(o).multiTabs?(r(),v(fn,{key:0})):N("",!0),t(J,{style:{padding:"1rem"}},{default:e(()=>[t(P,null,{default:e(({Component:W,route:K})=>[t(it,{name:"fade",mode:"out-in",appear:""},{default:e(()=>[K.meta.cache||g(f)?(r(),v(rt,{key:0,include:g(y)},[(r(),v(ee(W),{key:K.fullPath}))],1032,["include"])):(r(),v(ee(W),{key:K.fullPath}))]),_:2},1024)]),_:1})]),_:1}),t(yn)]),_:1},8,["style"])]),_:1})]),_:1})}}});const An=B(mn,[["__scopeId","data-v-aad90645"]]);export{An as default};
