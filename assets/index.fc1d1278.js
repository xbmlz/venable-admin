import{a as m,_ as I,b as L,l as j}from"./index.5d352d7e.js";/* empty css              */import{e as z,f as A,g as D,h as E}from"./vue.eedce031.js";import{d as N,i as W,az as O,x as C,y as K,B as R,aO as p,aP as b,u as M,aA as k,aT as T,aQ as U,aU as P,aL as q,aF as H,aG as J,c as w,a as $,aV as G,aW as Q,h as X,aX as Y,aY as Z,aZ as ee,a_ as te,p as oe,a$ as se,b0 as ne,b1 as ae,b2 as re,b3 as ce,b4 as ue,b5 as ie}from"./arco.a7c0c320.js";const de=n=>(H("data-v-269c3bbd"),n=n(),J(),n),le={class:"navbar"},pe={class:"navbar-left"},_e=de(()=>R("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"},null,-1)),fe=U(" VEnable "),he=N({__name:"index",setup(n){const a=m(),d=W("toggleDrawerMenu");return(_,h)=>{const u=P,c=O("icon-menu-fold"),r=q;return C(),K("div",le,[R("div",pe,[p(r,null,{default:b(()=>[_e,p(u,{style:{margin:0,fontSize:"18px"},heading:5},{default:b(()=>[fe]),_:1}),M(a).isMobile?(C(),k(c,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:M(d)},null,8,["onClick"])):T("",!0)]),_:1})])])}}});const be=I(he,[["__scopeId","data-v-269c3bbd"]]);function ve(){return{accessRouter(n){var a,d;return!((a=n.meta)!=null&&a.requiresAuth)||!((d=n.meta)!=null&&d.roles)}}}function ye(){const n=L(),a=ve(),d=w(()=>n.getMenuList);return{menuTree:w(()=>{const h=JSON.parse(JSON.stringify(d.value));h.sort((c,r)=>{var v,o;return(Number((v=c.meta)==null?void 0:v.order)||0)-(Number((o=r.meta)==null?void 0:o.order)||0)});function u(c,r){return c?c.map(o=>{var g,x;if(!a.accessRouter(o))return null;if(((g=o.meta)==null?void 0:g.hideChildrenInMenu)||!o.children)return o.children=[],o;o.children=o.children.filter(t=>{var s;return((s=t.meta)==null?void 0:s.hideInMenu)!==!0});const y=u(o.children,r+1);return y.length||r>1?(o.children=y,o):((x=o.meta)==null?void 0:x.hideInMenu)===!1?o:null}).filter(Boolean):null}return u(h,0)})}}const ge=(n,a)=>{const{target:d="_blank",..._}=a||{};window.open(n,d,Object.entries(_).reduce((h,u)=>{const[c,r]=u;return[...h,`${c}=${r}`]},[]).join(","))},xe=/^(?!mailto:)(?:(?:http|https|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[0-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00A1-\uFFFF0-9]+-?)*[a-z\u00A1-\uFFFF0-9]+)(?:\.(?:[a-z\u00A1-\uFFFF0-9]+-?)*[a-z\u00A1-\uFFFF0-9]+)*(?:\.(?:[a-z\u00A1-\uFFFF]{2,})))|localhost)(?::\d{2,5})?(?:(\/|\?|#)[^\s]*)?$/i;function Se(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Q(n)}const Me=N({__name:"index",setup(n){const a=z(),d=A(),_=m(),{menuTree:h}=ye(),u=$([]),c=$([]),r=w({get(){return _.isMobile?!1:_.siderCollapsed},set(t){_.updateSettings({siderCollapsed:t})}}),v=t=>{_.isMobile||_.updateSettings({siderCollapsed:t})},o=t=>{if(xe.test(t.path)){ge(t.path),c.value=[t.name];return}const{hideInMenu:s,activeMenu:l}=t.meta;if(d.name===t.name&&!s&&!l){c.value=[t.name];return}a.push({name:t.name})},y=t=>{const s=[];let l=!1;const e=(i,S,F)=>{var f;if(i.name===F){l=!0,s.push(...S,i.name);return}(f=i.children)!=null&&f.length&&i.children.forEach(B=>{e(B,[...S],F)})};return h.value.forEach(i=>{l||e(i,[i.name],t)}),s};j(t=>{const{requiresAuth:s,activeMenu:l,hideInMenu:e}=t.meta;if(s&&(!e||l)){const i=y(l||t.name),S=new Set([...i,...u.value]);u.value=[...S],c.value=[l||i[i.length-1]]}},!0);const g=()=>{function t(s,l=[]){return s&&s.forEach(e=>{var F;const i=(F=e==null?void 0:e.meta)!=null&&F.icon?()=>{var f;return X(Y(`<${(f=e==null?void 0:e.meta)==null?void 0:f.icon}/>`))}:null,S=(e==null?void 0:e.children)&&(e==null?void 0:e.children.length)!==0?p(Z,{key:e==null?void 0:e.name},{default:()=>[t(e==null?void 0:e.children)],icon:i,title:()=>{var f;return(f=e==null?void 0:e.meta)==null?void 0:f.title}}):p(ee,{key:e==null?void 0:e.name,onClick:()=>o(e)},{default:()=>{var f;return[((f=e==null?void 0:e.meta)==null?void 0:f.title)||""]},icon:i});l.push(S)}),l}return t(h.value)},x=()=>{let t;return p(G,{collapsed:r.value,"onUpdate:collapsed":s=>r.value=s,"open-keys":u.value,"onUpdate:open-keys":s=>u.value=s,"show-collapse-button":!_.isMobile,"auto-open":!1,"selected-keys":c.value,"auto-open-selected":!0,"level-indent":34,onCollapse:v,style:"height: 100%"},Se(t=g())?t:{default:()=>[t]})};return(t,s)=>(C(),k(x))}});const V=I(Me,[["__scopeId","data-v-51745242"]]);function we(){return document.body.getBoundingClientRect().width-1<992}const Fe={class:"menu-wrapper"},Ce=N({__name:"index",setup(n){z(),A();const a=m(),d=E(()=>{document.hidden||a.updateSettings({isMobile:we()})},100);D(window,"resize",d);const _=w(()=>a.siderCollapsed?48:a.siderWidth),h=w(()=>a.siderCollapsed),u=w(()=>a.isMobile),c=o=>{a.updateSettings({siderCollapsed:o})},r=$(!1),v=()=>{r.value=!1};return te(()=>{d()}),oe("toggleDrawerMenu",()=>{r.value=!r.value}),(o,y)=>{const g=ce,x=ue,t=se,s=O("RouterView"),l=ie,e=ne;return C(),k(e,{class:"layout"},{default:b(()=>[p(g,null,{default:b(()=>[p(be)]),_:1}),p(e,null,{default:b(()=>[ae(p(x,{class:"layout-sider",width:M(_),"hide-trigger":!0,collapsed:M(h),collapsible:!0,breakpoint:"xl",onCollapse:c},{default:b(()=>[R("div",Fe,[p(V)])]),_:1},8,["width","collapsed"]),[[re,!M(u)]]),M(u)?(C(),k(t,{key:0,visible:r.value,placement:"left",footer:!1,header:!1,"mask-closable":"",closable:!1,onCancel:v},{default:b(()=>[p(V)]),_:1},8,["visible"])):T("",!0),p(l,null,{default:b(()=>[p(s)]),_:1})]),_:1})]),_:1})}}});const Ne=I(Ce,[["__scopeId","data-v-4b1a4295"]]);export{Ne as default};
