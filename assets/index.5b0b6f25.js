import{a as D,u as q,_ as I,b as H,l as J}from"./index.4b1fa2f9.js";/* empty css              */import{f as P,g as Q,h as X,e as R,i as N,j as Y,k as Z}from"./vue.2b475547.js";import{d as T,i as G,c as A,aB as w,aV as ee,aW as te,aX as oe,z as x,A as ne,D as y,aQ as o,aR as c,u as v,aC as M,aY as z,aS as se,aZ as ae,aN as ce,aM as ue,a_ as re,aH as ie,aI as le,a as $,a$ as de,b0 as _e,h as pe,b1 as fe,b2 as he,b3 as ge,q as ve,p as be,b4 as ye,b5 as Fe,b6 as me,b7 as ke,b8 as xe,b9 as Ce,ba as Se}from"./arco.3c312a5c.js";const V=u=>(ie("data-v-7eaf12f5"),u=u(),le(),u),we={class:"navbar"},Me={class:"navbar-left"},Ae=V(()=>y("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"},null,-1)),Be=se(" VEnable "),$e={class:"right-side"},De=["src"],Ie=V(()=>y("span",null," \u9000\u51FA\u767B\u5F55 ",-1)),Te=T({__name:"index",setup(u){const a=D(),_=q(),f=G("toggleDrawerMenu"),{isFullscreen:g,toggle:p}=P(),r=A(()=>a.theme),i=Q({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(m){a.toggleTheme(m)}}),F=X(i),n=()=>{F()},C=A(()=>_.avatar),S=()=>{_.logout()};return(m,t)=>{const s=ae,d=w("icon-menu-fold"),e=ce,l=w("icon-search"),b=ue,k=ee,h=w("icon-moon-fill"),B=w("icon-sun-fill"),L=w("icon-fullscreen-exit"),O=w("icon-fullscreen"),j=te,K=w("icon-export"),W=re,U=oe;return x(),ne("div",we,[y("div",Me,[o(e,null,{default:c(()=>[Ae,o(s,{style:{margin:0,fontSize:"18px"},heading:5},{default:c(()=>[Be]),_:1}),v(a).isMobile?(x(),M(d,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:v(f)},null,8,["onClick"])):z("",!0)]),_:1})]),y("ul",$e,[y("li",null,[o(k,{content:"\u641C\u7D22"},{default:c(()=>[o(b,{class:"nav-btn",type:"outline",shape:"circle"},{icon:c(()=>[o(l)]),_:1})]),_:1})]),y("li",null,[o(k,{content:v(r)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u660E\u4EAE\u6A21\u5F0F"},{default:c(()=>[o(b,{class:"nav-btn",type:"outline",shape:"circle",onClick:n},{icon:c(()=>[v(r)==="dark"?(x(),M(h,{key:0})):(x(),M(B,{key:1}))]),_:1})]),_:1},8,["content"])]),y("li",null,[o(k,{content:v(g)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:c(()=>[o(b,{class:"nav-btn",type:"outline",shape:"circle",onClick:v(p)},{icon:c(()=>[v(g)?(x(),M(L,{key:0})):(x(),M(O,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),y("li",null,[o(U,{trigger:"click"},{content:c(()=>[o(W,null,{default:c(()=>[o(e,{onClick:S},{default:c(()=>[o(K),Ie]),_:1})]),_:1})]),default:c(()=>[o(j,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:c(()=>[y("img",{alt:"avatar",src:v(C)},null,8,De)]),_:1})]),_:1})])])])}}});const Ee=I(Te,[["__scopeId","data-v-7eaf12f5"]]);function Re(){return{accessRouter(u){var a,_;return!((a=u.meta)!=null&&a.requiresAuth)||!((_=u.meta)!=null&&_.roles)}}}function Ne(){const u=H(),a=Re(),_=A(()=>u.getMenuList);return{menuTree:A(()=>{const g=JSON.parse(JSON.stringify(_.value));g.sort((r,i)=>{var F,n;return(Number((F=r.meta)==null?void 0:F.order)||0)-(Number((n=i.meta)==null?void 0:n.order)||0)});function p(r,i){return r?r.map(n=>{var S,m;if(!a.accessRouter(n))return null;if(((S=n.meta)==null?void 0:S.hideChildrenInMenu)||!n.children)return n.children=[],n;n.children=n.children.filter(t=>{var s;return((s=t.meta)==null?void 0:s.hideInMenu)!==!0});const C=p(n.children,i+1);return C.length||i>1?(n.children=C,n):((m=n.meta)==null?void 0:m.hideInMenu)===!1?n:null}).filter(Boolean):null}return p(g,0)})}}const ze=(u,a)=>{const{target:_="_blank",...f}=a||{};window.open(u,_,Object.entries(f).reduce((g,p)=>{const[r,i]=p;return[...g,`${r}=${i}`]},[]).join(","))},Ve=/^(?!mailto:)(?:(?:http|https|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[0-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00A1-\uFFFF0-9]+-?)*[a-z\u00A1-\uFFFF0-9]+)(?:\.(?:[a-z\u00A1-\uFFFF0-9]+-?)*[a-z\u00A1-\uFFFF0-9]+)*(?:\.(?:[a-z\u00A1-\uFFFF]{2,})))|localhost)(?::\d{2,5})?(?:(\/|\?|#)[^\s]*)?$/i;function Le(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Object]"&&!_e(u)}const Oe=T({__name:"index",setup(u){const a=R(),_=N(),f=D(),{menuTree:g}=Ne(),p=$([]),r=$([]),i=A({get(){return f.isMobile?!1:f.siderCollapsed},set(t){f.updateSettings({siderCollapsed:t})}}),F=t=>{f.isMobile||f.updateSettings({siderCollapsed:t})},n=t=>{if(Ve.test(t.path)){ze(t.path),r.value=[t.name];return}const{hideInMenu:s,activeMenu:d}=t.meta;if(_.name===t.name&&!s&&!d){r.value=[t.name];return}a.push({name:t.name})},C=t=>{const s=[];let d=!1;const e=(l,b,k)=>{var h;if(l.name===k){d=!0,s.push(...b,l.name);return}(h=l.children)!=null&&h.length&&l.children.forEach(B=>{e(B,[...b],k)})};return g.value.forEach(l=>{d||e(l,[l.name],t)}),s};J(t=>{const{requiresAuth:s,activeMenu:d,hideInMenu:e}=t.meta;if(s&&(!e||d)){const l=C(d||t.name),b=new Set([...l,...p.value]);p.value=[...b],r.value=[d||l[l.length-1]]}},!0);const S=()=>{function t(s,d=[]){return s&&s.forEach(e=>{var k;const l=(k=e==null?void 0:e.meta)!=null&&k.icon?()=>{var h;return pe(fe(`<${(h=e==null?void 0:e.meta)==null?void 0:h.icon}/>`))}:null,b=(e==null?void 0:e.children)&&(e==null?void 0:e.children.length)!==0?o(he,{key:e==null?void 0:e.name},{default:()=>[t(e==null?void 0:e.children)],icon:l,title:()=>{var h;return(h=e==null?void 0:e.meta)==null?void 0:h.title}}):o(ge,{key:e==null?void 0:e.name,onClick:()=>n(e)},{default:()=>{var h;return[((h=e==null?void 0:e.meta)==null?void 0:h.title)||""]},icon:l});d.push(b)}),d}return t(g.value)},m=()=>{let t;return o(de,{collapsed:i.value,"onUpdate:collapsed":s=>i.value=s,"open-keys":p.value,"onUpdate:open-keys":s=>p.value=s,"show-collapse-button":!f.isMobile,"auto-open":!1,"selected-keys":r.value,"auto-open-selected":!0,"level-indent":34,onCollapse:F,style:"height: 100%"},Le(t=S())?t:{default:()=>[t]})};return(t,s)=>(x(),M(m))}});const E=I(Oe,[["__scopeId","data-v-51745242"]]);function je(){return document.body.getBoundingClientRect().width-1<992}const Ke={class:"menu-wrapper"},We=T({__name:"index",setup(u){R(),N();const a=D(),_=Z(()=>{document.hidden||a.updateSettings({isMobile:je()})},100);Y(window,"resize",_);const f=A(()=>a.siderCollapsed?48:a.siderWidth),g=A(()=>a.siderCollapsed),p=A(()=>a.isMobile),r=n=>{a.updateSettings({siderCollapsed:n})},i=$(!1),F=()=>{i.value=!1};return ve(()=>{_()}),be("toggleDrawerMenu",()=>{i.value=!i.value}),(n,C)=>{const S=xe,m=Ce,t=ye,s=w("RouterView"),d=Se,e=Fe;return x(),M(e,{class:"layout"},{default:c(()=>[o(S,null,{default:c(()=>[o(Ee)]),_:1}),o(e,null,{default:c(()=>[me(o(m,{class:"layout-sider",width:v(f),"hide-trigger":!0,collapsed:v(g),collapsible:!0,breakpoint:"xl",onCollapse:r},{default:c(()=>[y("div",Ke,[o(E)])]),_:1},8,["width","collapsed"]),[[ke,!v(p)]]),v(p)?(x(),M(t,{key:0,visible:i.value,placement:"left",footer:!1,header:!1,"mask-closable":"",closable:!1,onCancel:F},{default:c(()=>[o(E)]),_:1},8,["visible"])):z("",!0),o(d,null,{default:c(()=>[o(s)]),_:1})]),_:1})]),_:1})}}});const Pe=I(We,[["__scopeId","data-v-4b1a4295"]]);export{Pe as default};
