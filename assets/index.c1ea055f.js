import{a as z,b as G,_ as B,r as Y,u as ke,c as xe,l as se,d as Z,D as Fe,R as Ce,e as $e}from"./index.72fd0f50.js";/* empty css              */import{d as A,aZ as Ee,a_ as Se,z as r,aC as v,A as L,D as h,aR as M,a$ as H,b0 as q,aE as t,a as I,c as m,b1 as De,b2 as oe,aD as e,aS as T,u as g,aI as Te,b3 as we,aF as D,b4 as Le,B as ue,C as V,b5 as N,b6 as Be,b7 as ce,b8 as Ae,aP as le,b9 as Me,ba as Ie,bb as Re,aO as Ne,r as Pe,j as Ve,bc as ze,bd as Oe,aV as ie,aW as je,be as Ue,bf as Ke,bg as We,bh as He,bi as re,bj as qe,bk as de,aK as Q,aL as X,i as Je,bl as Ge,bm as Ze,h as Qe,bn as Xe,bo as Ye,bp as et,bq as tt,o as nt,br as at,bs as st,q as ot,bt as ut,bu as ct,bv as lt,bw as it,bx as rt,by as ee,bz as dt,bA as _t,bB as pt,p as ft}from"./arco.62b7abbc.js";import{g as ht,h as bt,i as yt,j as gt,e as _e,f as pe,k as vt,l as mt}from"./vue.612980c2.js";import{u as kt}from"./loading.fc6ca50e.js";/* empty css               *//* empty css               *//* empty css              */const xt="/venable-admin/assets/logo.e70dcf41.png";const Ft=A({__name:"form-wrapper",props:{type:{type:String,default:""},name:{type:String,default:""},defaultValue:{type:[String,Boolean,Number],default:""}},emits:["inputChange"],setup(s,{emit:o}){const _=s,l=i=>{o("inputChange",{value:i,key:_.name})};return(i,b)=>{const u=Ee,k=Se;return s.type==="number"?(r(),v(u,{key:0,style:{width:"80px"},size:"small","default-value":s.defaultValue,onChange:l},null,8,["default-value"])):(r(),v(k,{key:1,"default-checked":s.defaultValue,size:"small",onChange:l},null,8,["default-checked"]))}}}),Ct={class:"block"},$t={class:"title"},Et=A({__name:"block",props:{title:{type:String,default:""},options:{type:Array,default(){return[]}}},setup(s){const o=z(),_=G(),l=async({key:i,value:b})=>{i==="colorWeakness"&&(document.body.style.filter=b?"invert(80%)":"none"),i==="serverMenu"&&b&&await _.buildRoutes(),o.updateSettings({[i]:b})};return(i,b)=>(r(),L("div",Ct,[h("h5",$t,M(s.title),1),(r(!0),L(H,null,q(s.options,u=>(r(),L("div",{key:u.name,class:"switch-wrapper"},[h("span",null,M(u.name),1),t(Ft,{type:u.type||"switch",name:u.key,"default-value":u.defaultVal,onInputChange:l},null,8,["type","name","default-value"])]))),128))]))}});const te=B(Et,[["__scopeId","data-v-d35a8e89"]]),St=A({__name:"index",setup(s,{expose:o}){const _=I(!1),l=z(),{copy:i}=ht(),b=m(()=>[{name:"\u4F7F\u7528\u670D\u52A1\u7AEF\u83DC\u5355",key:"serverMenu",defaultVal:l.serverMenu},{name:"\u9876\u680F\u9AD8\u5EA6",key:"navbarheight",defaultVal:l.navbarHeight,type:"number"},{name:"\u4FA7\u8FB9\u680F\u5BBD\u5EA6",key:"sidebarWidth",defaultVal:l.sidebarWidth,type:"number"},{name:"\u591A\u9875\u7B7E",key:"multiTabs",defaultVal:l.multiTabs}]),u=m(()=>[{name:"\u8272\u5F31\u6A21\u5F0F",key:"colorWeakness",defaultVal:l.colorWeakness}]),k=async()=>{const p=JSON.stringify(l.$state,null,2);await i(p),Te.success("\u590D\u5236\u6210\u529F")},x=()=>{_.value=!1};return o({visible:_}),(p,C)=>{const $=De,S=oe;return r(),v(S,{width:350,"unmount-on-close":"",visible:_.value,"cancel-text":"\u5173\u95ED","ok-text":"\u590D\u5236\u914D\u7F6E",onCancel:x,onOk:k},{title:e(()=>[T("\u9875\u9762\u914D\u7F6E")]),default:e(()=>[t(te,{options:g(b),title:"\u5185\u5BB9\u533A\u57DF"},null,8,["options"]),t(te,{options:g(u),title:"\u5176\u4ED6\u8BBE\u7F6E"},null,8,["options"]),t($,null,{default:e(()=>[T(' \u914D\u7F6E\u4E4B\u540E\u4EC5\u662F\u4E34\u65F6\u751F\u6548\uFF0C\u8981\u60F3\u771F\u6B63\u4F5C\u7528\u4E8E\u9879\u76EE\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684 "\u590D\u5236\u914D\u7F6E" \u6309\u94AE\uFF0C\u5C06\u914D\u7F6E\u66FF\u6362\u5230 settings.json \u4E2D\u5373\u53EF\u3002 ')]),_:1})]),_:1},8,["visible"])}}});const Dt=B(St,[["__scopeId","data-v-6b914182"]]);const Tt=["onClick"],wt=["src"],Lt={class:"footer-wrap"},Bt={class:"footer-wrap"},At=A({__name:"notify-list",props:{renderList:{type:Array,required:!0},unreadCount:{type:Number,default:0}},emits:["itemClick"],setup(s,{emit:o}){const _=s,l=()=>{o("itemClick",[..._.renderList])},i=u=>{u.status||o("itemClick",[u])},b=3;return(u,k)=>{const x=we,p=D("icon-desktop"),C=ce,$=Ae,S=le,c=Me,a=Ie,d=Re,n=Ne,y=Le;return r(),v(y,{bordered:!1},{footer:e(()=>[t(S,{fill:"",size:0,class:ue({"add-border-top":s.renderList.length<b})},{default:e(()=>[h("div",Lt,[t(n,{onClick:l},{default:e(()=>[T("\u5168\u90E8\u5DF2\u8BFB")]),_:1})]),h("div",Bt,[t(n,null,{default:e(()=>[T("\u67E5\u770B\u66F4\u591A")]),_:1})])]),_:1},8,["class"])]),default:e(()=>[(r(!0),L(H,null,q(s.renderList,f=>(r(),v(d,{key:f.id,"action-layout":"vertical",style:V({opacity:f.status?.5:1})},{extra:e(()=>[f.messageType===0?(r(),v(x,{key:0,color:"gray"},{default:e(()=>[T("\u672A\u5F00\u59CB")]),_:1})):f.messageType===1?(r(),v(x,{key:1,color:"green"},{default:e(()=>[T("\u5DF2\u5F00\u901A")]),_:1})):f.messageType===2?(r(),v(x,{key:2,color:"blue"},{default:e(()=>[T("\u8FDB\u884C\u4E2D")]),_:1})):f.messageType===3?(r(),v(x,{key:3,color:"red"},{default:e(()=>[T("\u5373\u5C06\u5230\u671F")]),_:1})):N("",!0)]),default:e(()=>[h("div",{class:"item-wrap",onClick:E=>i(f)},[t(a,null,Be({title:e(()=>[t(S,{size:4},{default:e(()=>[h("span",null,M(f.title),1),t($,{type:"secondary"},{default:e(()=>[T(M(f.subTitle),1)]),_:2},1024)]),_:2},1024)]),description:e(()=>[h("div",null,[t(c,{ellipsis:{rows:1}},{default:e(()=>[T(M(f.content),1)]),_:2},1024),f.type==="message"?(r(),v($,{key:0,class:"time-text"},{default:e(()=>[T(M(f.time),1)]),_:2},1024)):N("",!0)])]),_:2},[f.avatar?{name:"avatar",fn:e(()=>[t(C,{shape:"circle"},{default:e(()=>[f.avatar?(r(),L("img",{key:0,src:f.avatar},null,8,wt)):(r(),v(p,{key:1}))]),_:2},1024)]),key:"0"}:void 0]),1024)],8,Tt)]),_:2},1032,["style"]))),128)),s.renderList.length>0&&s.renderList.length<3?(r(),L("div",{key:0,style:V({height:`${(b-s.renderList.length)*86}px`})},null,4)):N("",!0)]),_:1})}}});const Mt=B(At,[["__scopeId","data-v-1d50d565"]]);class ne{static list(){return Y.get("/notify/list")}static read(o){return Y.post("/notify/read",o)}}const It=A({__name:"index",setup(s){const{loading:o,setLoading:_}=kt(!0),l=Pe({notifyList:[]});Ve(l);const i=I("message"),b=[{key:"message",title:"\u6D88\u606F"},{key:"notice",title:"\u901A\u77E5"},{key:"todo",title:"\u5F85\u529E"}],u=m(()=>l.notifyList.filter(a=>i.value===a.type)),k=m(()=>u.value.filter(a=>!a.status).length),x=a=>l.notifyList.filter(n=>n.type===a&&!n.status),p=a=>{const d=x(a);return d.length>0?`(${d.length})`:""},C=async()=>{_(!0);try{const a=await ne.list();l.notifyList=a}catch(a){}finally{_(!1)}};async function $(a){const d=a.map(n=>n.id);await ne.read({ids:d}),C()}const S=a=>{u.value.length>0&&$([...a])},c=()=>{l.notifyList=[]};return C(),(a,d)=>{const n=je,y=Ue,f=ie,E=ze,F=Oe;return r(),v(F,{style:{display:"block"},loading:g(o)},{default:e(()=>[t(E,{activeKey:i.value,"onUpdate:activeKey":d[0]||(d[0]=w=>i.value=w),type:"rounded","destroy-on-hide":""},{extra:e(()=>[t(f,{type:"text",onClick:c},{default:e(()=>[T("\u6E05\u7A7A")]),_:1})]),default:e(()=>[(r(),L(H,null,q(b,w=>t(y,{key:w.key},{title:e(()=>[h("span",null,M(w.title)+M(p(w.key)),1)]),default:e(()=>[g(u).length===0?(r(),v(n,{key:0,status:"404"},{subtitle:e(()=>[T("\u6682\u65E0\u5185\u5BB9")]),_:1})):N("",!0),t(Mt,{"render-list":g(u),"unread-count":g(k),onItemClick:S},null,8,["render-list","unread-count"])]),_:2},1024)),64))]),_:1},8,["activeKey"])]),_:1},8,["loading"])}}});const Rt=B(It,[["__scopeId","data-v-c24270e0"]]),fe=s=>(Q("data-v-cc4a03d6"),s=s(),X(),s),Nt={class:"navbar"},Pt={class:"navbar-left"},Vt=fe(()=>h("img",{alt:"logo",src:xt},null,-1)),zt={class:"navbar-right"},Ot={class:"message-box-trigger"},jt=["src"],Ut=fe(()=>h("span",null,"\u9000\u51FA\u767B\u5F55",-1)),Kt=A({__name:"index",setup(s){const o=z(),_=ke(),l=Je("toggleDrawerMenu"),i=m(()=>o.theme),b=bt({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(n){o.toggleTheme(n)}}),u=yt(b),k=()=>{u()},x=I(),p=()=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});x.value.dispatchEvent(n)},{isFullscreen:C,toggle:$}=gt(),S=I(),c=()=>{S.value.visible=!0},a=m(()=>_.avatar),d=()=>{_.logout()};return(n,y)=>{const f=qe,E=D("icon-menu-fold"),F=le,w=D("icon-moon-fill"),j=D("icon-sun-fill"),R=ie,P=Ke,J=D("icon-notification"),U=We,W=He,K=D("icon-fullscreen-exit"),he=D("icon-fullscreen"),be=D("icon-settings"),ye=ce,ge=D("icon-export"),ve=de,me=re;return r(),L("div",Nt,[h("div",Pt,[t(F,null,{default:e(()=>[Vt,t(f,{style:V({marginTop:"0.8rem",fontSize:"18px"}),heading:5},{default:e(()=>[T(" VEnable ")]),_:1},8,["style"]),g(o).isMobile?(r(),v(E,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:g(l)},null,8,["onClick"])):N("",!0)]),_:1})]),h("ul",zt,[h("li",null,[t(P,{content:g(i)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u660E\u4EAE\u6A21\u5F0F"},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:k},{icon:e(()=>[g(i)==="dark"?(r(),v(w,{key:0})):(r(),v(j,{key:1}))]),_:1})]),_:1},8,["content"])]),h("li",null,[t(P,{content:"\u6D88\u606F\u901A\u77E5"},{default:e(()=>[h("div",Ot,[t(U,{count:9,dot:""},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:p},{default:e(()=>[t(J)]),_:1})]),_:1})])]),_:1}),t(W,{trigger:"click","arrow-style":{display:"none"},"content-style":{padding:0,minWidth:"400px"},"content-class":"message-popover"},{content:e(()=>[t(Rt)]),default:e(()=>[h("div",{ref_key:"msgBoxRef",ref:x,class:"ref-btn"},null,512)]),_:1})]),h("li",null,[t(P,{content:g(C)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:g($)},{icon:e(()=>[g(C)?(r(),v(K,{key:0})):(r(),v(he,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),h("li",null,[t(P,{content:"\u9875\u9762\u914D\u7F6E"},{default:e(()=>[t(R,{class:"nav-btn",type:"outline",shape:"circle",onClick:c},{icon:e(()=>[t(be)]),_:1})]),_:1})]),h("li",null,[t(me,{trigger:"click"},{content:e(()=>[t(ve,null,{default:e(()=>[t(F,{onClick:d},{default:e(()=>[t(ge),Ut]),_:1})]),_:1})]),default:e(()=>[t(ye,{size:28,style:{cursor:"pointer"}},{default:e(()=>[h("img",{alt:"avatar",src:g(a)},null,8,jt)]),_:1})]),_:1})])]),t(Dt,{ref_key:"settingsRef",ref:S},null,512)])}}});const Wt=B(Kt,[["__scopeId","data-v-cc4a03d6"]]);function Ht(){const s=G(),o=xe(),_=m(()=>s.getMenuList);return{menuTree:m(()=>{const i=JSON.parse(JSON.stringify(_.value));i.sort((u,k)=>{var x,p;return(Number((x=u.meta)==null?void 0:x.order)||0)-(Number((p=k.meta)==null?void 0:p.order)||0)});function b(u,k){return u?u.map(p=>{var $,S;if(!o.accessRouter(p))return null;if((($=p.meta)==null?void 0:$.hideChildrenInMenu)||!p.children)return p.children=[],p;p.children=p.children.filter(c=>{var a;return((a=c.meta)==null?void 0:a.hideInMenu)!==!0});const C=b(p.children,k+1);return C.length>0||k>1?(p.children=C,p):((S=p.meta)==null?void 0:S.hideInMenu)===!1?p:null}).filter(Boolean):null}return b(i,0)})}}const qt=(s,o)=>{const{target:_="_blank",...l}=o||{};window.open(s,_,Object.entries(l).reduce((i,b)=>{const[u,k]=b;return[...i,`${u}=${k}`]},[]).join(","))},Jt=/^(?!mailto:)(?:http|https|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}\.(?:\d\d?|1\d\d|2[0-4]\d|25[0-4])|(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+(?:\.(?:[\da-z\u00A1-\uFFFF]+-?)*[\da-z\u00A1-\uFFFF]+)*\.[a-z\u00A1-\uFFFF]{2,})|localhost)(?::\d{2,5})?(?:([#/?])\S*)?$/i;function Gt(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!Ze(s)}const Zt=A({__name:"index",setup(s){const o=_e(),_=pe(),l=z(),{menuTree:i}=Ht(),b=I([]),u=I([]),k=m({get(){return l.isMobile?!1:l.sidebarCollapsed},set(c){l.updateSettings({sidebarCollapsed:c})}}),x=c=>{l.isMobile||l.updateSettings({sidebarCollapsed:c})},p=c=>{if(Jt.test(c.path)){qt(c.path),u.value=[c.name];return}const{hideInMenu:a,activeMenu:d}=c.meta;if(_.name===c.name&&!a&&!d){u.value=[c.name];return}o.push({name:c.name})},C=c=>{const a=[];let d=!1;const n=(y,f,E)=>{var F;if(y.name===E){d=!0,a.push(...f,y.name);return}(F=y.children)!=null&&F.length&&y.children.forEach(w=>{n(w,[...f],E)})};return i.value.forEach(y=>{d||n(y,[y.name],c)}),a};se(c=>{const{ignoreAuth:a,activeMenu:d,hideInMenu:n}=c.meta;if(!a&&(!n||d)){const y=C(d||c.name),f=new Set([...y,...b.value]);b.value=[...f],u.value=[d||y[y.length-1]]}},!0);const $=()=>{function c(a,d=[]){return a&&a.forEach(n=>{var E;const y=(E=n==null?void 0:n.meta)!=null&&E.icon?()=>{var F;return Qe(Xe(`<${(F=n==null?void 0:n.meta)==null?void 0:F.icon}/>`))}:null,f=(n==null?void 0:n.children)&&(n==null?void 0:n.children.length)!==0?t(Ye,{key:n==null?void 0:n.name},{default:()=>[c(n==null?void 0:n.children)],icon:y,title:()=>{var F;return(F=n==null?void 0:n.meta)==null?void 0:F.title}}):t(et,{key:n==null?void 0:n.name,onClick:()=>p(n)},{default:()=>{var F;return[((F=n==null?void 0:n.meta)==null?void 0:F.title)||""]},icon:y});d.push(f)}),d}return c(i.value)},S=()=>{let c;return t(Ge,{collapsed:k.value,"onUpdate:collapsed":a=>k.value=a,"open-keys":b.value,"onUpdate:open-keys":a=>b.value=a,"show-collapse-button":!l.isMobile,"auto-open":!1,"selected-keys":u.value,"auto-open-selected":!0,"level-indent":34,onCollapse:x,style:"height: 100%"},Gt(c=$())?c:{default:()=>[c]})};return(c,a)=>(r(),v(S))}});const ae=B(Zt,[["__scopeId","data-v-70ed593c"]]);const O=s=>(Q("data-v-41857ab3"),s=s(),X(),s),Qt={class:"tag-link"},Xt=O(()=>h("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),Yt=O(()=>h("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),en=O(()=>h("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),tn=O(()=>h("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),nn=O(()=>h("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),an=O(()=>h("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),sn=A({__name:"tab-item",props:{tabData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(s){const o=s,_=_e(),l=pe(),i=Z(),b=c=>{_.push({...c})},u=m(()=>i.getTabList),k=m(()=>o.tabData.fullPath!==l.fullPath),x=m(()=>o.index===0),p=m(()=>[0,1].includes(o.index)),C=m(()=>o.index===u.value.length-1),$=(c,a)=>{if(i.deleteTab(c,a),o.tabData.fullPath===l.fullPath){const d=u.value[c-1];_.push({name:d.name})}},S=async c=>{const{tabData:a,index:d}=o,n=[...u.value],y=u.value.findIndex(f=>f.fullPath===l.fullPath);switch(c){case"current":$(d,a);break;case"left":n.splice(1,o.index-1),i.refreshTabList(n),y<d&&_.push({name:a.name});break;case"right":n.splice(o.index+1),i.refreshTabList(n),y>d&&_.push({name:a.name});break;case"others":const f=u.value.filter((E,F)=>F===0||F===o.index);i.refreshTabList(f),_.push({name:a.name});break;case"reload":i.deleteTabCache(a),await _.push({name:Ce,params:{path:l.fullPath}}),i.addTabCache(a.name);break;default:i.resetTabList(),_.push({name:Fe})}};return(c,a)=>{const d=D("icon-close"),n=D("icon-refresh"),y=de,f=D("icon-to-left"),E=D("icon-to-right"),F=D("icon-swap"),w=D("icon-folder-delete"),j=re;return r(),v(j,{trigger:"contextMenu","popup-max-height":!1,onSelect:S},{content:e(()=>[t(y,{disabled:g(k),value:"reload"},{default:e(()=>[t(n),Xt]),_:1},8,["disabled","value"]),t(y,{class:"sperate-line",disabled:g(x),value:"current"},{default:e(()=>[t(d),Yt]),_:1},8,["disabled","value"]),t(y,{disabled:g(p),value:"left"},{default:e(()=>[t(f),en]),_:1},8,["disabled","value"]),t(y,{class:"sperate-line",disabled:g(C),value:"right"},{default:e(()=>[t(E),tn]),_:1},8,["disabled","value"]),t(y,{value:"others"},{default:e(()=>[t(F),nn]),_:1},8,["value"]),t(y,{value:"all"},{default:e(()=>[t(w),an]),_:1},8,["value"])]),default:e(()=>[h("span",{class:ue(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":s.tabData.fullPath===c.$route.fullPath}]),onClick:a[1]||(a[1]=R=>b(s.tabData))},[h("span",Qt,M(s.tabData.title),1),h("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:a[0]||(a[0]=tt(R=>$(s.index,s.tabData),["stop"]))},[t(d)])],2)]),_:1})}}});const on=B(sn,[["__scopeId","data-v-41857ab3"]]),un=s=>(Q("data-v-5cffe0c4"),s=s(),X(),s),cn={class:"tab-bar-container"},ln={class:"tab-bar-box"},rn={class:"tab-bar-scroll"},dn={class:"tags-wrap"},_n=un(()=>h("div",{class:"tag-bar-operation"},null,-1)),pn=A({__name:"index",setup(s){const o=Z(),_=z(),l=I(),i=m(()=>_.navbarHeight),b=m(()=>o.getTabList);return se(u=>{b.value.some(k=>k.fullPath===u.fullPath)||o.addTab(u)},!0),nt(()=>{$e()}),(u,k)=>{const x=at;return r(),L("div",cn,[t(x,{ref_key:"affixRef",ref:l,"offset-top":g(i)},{default:e(()=>[h("div",ln,[h("div",rn,[h("div",dn,[(r(!0),L(H,null,q(g(b),(p,C)=>(r(),v(on,{key:p.fullPath,index:C,"tab-data":p},null,8,["index","tab-data"]))),128))])]),_n])]),_:1},8,["offset-top"])])}}});const fn=B(pn,[["__scopeId","data-v-5cffe0c4"]]);const hn={};function bn(s,o){const _=st;return r(),v(_,{class:"footer"},{default:e(()=>[T("Copyright \xA92022 VEnable Admin")]),_:1})}const yn=B(hn,[["render",bn],["__scopeId","data-v-c5fe8f0a"]]);function gn(){return document.body.getBoundingClientRect().width-1<992}const vn={class:"layout-menu"},mn=A({__name:"index",setup(s){const o=z(),_=G(),l=Z(),i=m(()=>_.menuList),b=mt(()=>{document.hidden||o.updateSettings({isMobile:gn()})},100);vt(window,"resize",b);const u=m(()=>o.sidebarCollapsed?48:o.sidebarWidth),k=m(()=>o.sidebarCollapsed),x=m(()=>o.isMobile),p=E=>{o.updateSettings({sidebarCollapsed:E})},C=I(!0),$=m(()=>o.navbarHeight),S=m(()=>{const E=i.value&&!x.value?{paddingLeft:`${u.value}px`}:{},F=C.value?{paddingTop:`${$.value}px`}:{};return{...E,...F}}),c=m(()=>({height:`${$.value}px`})),a=m(()=>({...C.value?{paddingTop:`${$.value}px`}:{}})),d=I(!1),n=()=>{d.value=!1},y=m(()=>l.getTabCacheList),f=m(()=>o.multiTabs);return ot(()=>{b()}),ft("toggleDrawerMenu",()=>{d.value=!d.value}),(E,F)=>{const w=dt,j=_t,R=oe,P=D("router-view"),J=pt,U=ut;return r(),v(U,{class:"layout"},{default:e(()=>[t(w,{class:"layout-header",style:V(g(c))},{default:e(()=>[t(Wt)]),_:1},8,["style"]),t(U,null,{default:e(()=>[g(i)?ct((r(),v(j,{key:0,class:"layout-sider",width:g(u),"hide-trigger":!0,collapsed:g(k),collapsible:!0,style:V(g(a)),breakpoint:"xl",onCollapse:p},{default:e(()=>[h("div",vn,[t(ae)])]),_:1},8,["width","collapsed","style"])),[[lt,!g(x)]]):N("",!0),g(x)?(r(),v(R,{key:1,visible:d.value,placement:"left",footer:!1,header:!1,"mask-closable":"",closable:!1,onCancel:n},{default:e(()=>[t(ae)]),_:1},8,["visible"])):N("",!0),t(U,{class:"layout-content",style:V(g(S))},{default:e(()=>[g(o).multiTabs?(r(),v(fn,{key:0})):N("",!0),t(J,{style:{padding:"1rem"}},{default:e(()=>[t(P,null,{default:e(({Component:W,route:K})=>[t(it,{name:"fade",mode:"out-in",appear:""},{default:e(()=>[K.meta.cache||g(f)?(r(),v(rt,{key:0,include:g(y)},[(r(),v(ee(W),{key:K.fullPath}))],1032,["include"])):(r(),v(ee(W),{key:K.fullPath}))]),_:2},1024)]),_:1})]),_:1}),t(yn)]),_:1},8,["style"])]),_:1})]),_:1})}}});const Tn=B(mn,[["__scopeId","data-v-aad90645"]]);export{Tn as default};
